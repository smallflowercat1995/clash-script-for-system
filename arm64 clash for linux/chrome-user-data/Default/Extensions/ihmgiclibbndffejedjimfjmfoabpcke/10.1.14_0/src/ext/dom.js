pl.extend(ke.ext.dom,{getPosition:function(t){var e=0,n=0;if(t.offsetParent)do{e+=t.offsetLeft,n+=t.offsetTop}while(t=t.offsetParent);return[e,n]},getX:function(t){return ke.ext.dom.getPosition(t)[0]},getY:function(t){return ke.ext.dom.getPosition(t)[1]},getHeight:function(t){return parseInt(pl(t).css("height"))+parseInt(pl(t).css("padding-top"))+parseInt(pl(t).css("padding-bottom"))},isVisible:function(t){var e=this.getY(t);return e+this.getHeight(t)>=window.scrollY&&e<=window.scrollY+window.innerHeight}}),pl.implement({rev:function(){return this.elements.reverse(),this}}),$.fn.textWidth=function(t,e){return $.fn.textWidth.fakeEl||($.fn.textWidth.fakeEl=$("<span>").hide().appendTo(document.body)),$.fn.textWidth.fakeEl.text(t||this.val()||this.text()).css("font",e||this.css("font")),$.fn.textWidth.fakeEl.width()},$.fn.lines=function(t,e){$.fn.lines.fakeEl||($.fn.lines.fakeEl=$("<div>").hide().appendTo(document.body)),$.fn.lines.fakeEl.text(t||this.val()||this.text()).css("font",e||this.css("font")).css("width",this.css("width")).css("padding",this.css("padding"));let n=parseInt(this.css("font-size"),10);return Math.ceil($.fn.lines.fakeEl.height()/(1.2*n))},$.fn.placeholderWidth=function(){return $.fn.textWidth(this.attr("placeholder"))},$.fn.measure=function(t){var e=$(this).clone(!1);e.css({visibility:"hidden",position:"absolute"}),e.appendTo("body");var n=t.apply(e);return e.remove(),n};