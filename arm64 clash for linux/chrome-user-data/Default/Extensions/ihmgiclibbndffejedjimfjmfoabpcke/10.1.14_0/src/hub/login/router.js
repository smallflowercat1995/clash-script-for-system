pl.extend(ke.app,{import:["ext.const.storage","ext.util.langUtil","ext.util.storageUtil","particles.pro_block.proModel","ext.tpl","ext.event","ext.string","ext.input","ui_views.i18n"],temp:{checked_email:"",device_id:""},flags:{checking:!1,signing_in:!1,signing_up:!1,finishing_account:!1},init:function(){ke.ui_views.i18n.init(),document.title="Mate Translate Sign-In",ke.supportsOnlineAnalytics?ke.loadExternalScript(ke.analyticsScriptLink,ke.initAnalytics):ke.import("lib.ga",ke.initAnalytics),ke.ext.event.listen(ke.EF,ke.EF,ke.EF),chrome.runtime.onMessage.addListener(ke.app.handlers.handleLoginResponses),ke.ext.util.storageUtil.chainRequestBackgroundOption([{fn:"isTrueOption",args:["gdpr_consent"]},{fn:"getVal",args:["user_country"]},{fn:"isTrueOption",args:["dark_mode"]}],(function(e){var n=e[0].response,o=e[1].response;e[2].response&&$("body").addClass("dark-mode"),"#gdpr"===document.location.hash||!n&&ke.isEEA(o)?($(".check-user-screen").hide(),$(".gdpr-consent-screen").show(),chrome.runtime.sendMessage({action:ke.processCall("app","commands","sendAnalyticsEvent"),cat:"gdpr",event:"window-open"}),window.onbeforeunload=ke.app.handlers.onGDPRBeforeUnload):"#restore"===document.location.hash?($(".skip").remove(),$(".promo-text").remove(),$(".restore-text").show()):"#sync"===document.location.hash?($(".skip").remove(),$(".promo-text").remove(),$(".sync-text").show()):document.location.hash.startsWith("#finish-signup")&&(ke.app.temp.checked_email=document.location.hash.split(",").pop(),ke.app.flags.finishing_account=!0,$(".checked-email").html(ke.app.temp.checked_email),$(".check-user-screen").hide(),$(".sign-up-screen").show(),$(".name").focus())})),$(window).resize(ke.app.handlers.onResize),ke.IS_EDGE&&ke.app.handlers.onResize(),$(".show-info").on("click",ke.app.handlers.showLoginInfo),$(".info-window .close").on("click",ke.app.handlers.closeLoginInfo),$(".skip").on("click",ke.app.handlers.skip),$(".check-user").on("click",ke.app.handlers.checkUser),$(".sign-in").on("click",ke.app.handlers.signIn),$(".sign-up").on("click",ke.app.handlers.signUp),$(".back-button").on("click",ke.app.handlers.back),$(".checkbox").on("click",ke.app.handlers.toggleCheckbox),$(".agree").on("click",ke.app.handlers.agreeGDPR),$(".open-pp").on("click",ke.app.handlers.openPrivacyPolicy),$(".forgot-password").on("click",ke.app.handlers.openPasswordReset),$(".fb-button").on("click",ke.app.handlers.loginWithFB),$(".g-button").on("click",ke.app.handlers.loginWithGoogle),$(".email").on("keyup",ke.app.handlers.onEmailEnter),$(".si-pwd").on("keyup",ke.app.handlers.onSignInEnter),$(".su-pwd").on("keyup",ke.app.handlers.onSignUpPwdEnter),$(".name").on("keyup",ke.app.handlers.onSignUpNameEnter)}});