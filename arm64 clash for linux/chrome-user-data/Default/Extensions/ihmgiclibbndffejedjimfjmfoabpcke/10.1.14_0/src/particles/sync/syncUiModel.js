pl.extend(ke.particles.sync.ui_model,{sendSyncRequest:function(e,s,n,a){a.hasClass("synced")||a.hasClass("syncing")||("undefined"!=typeof ga&&ga("send","event","sync","start"),ke.ext.util.storageUtil.chainRequestBackgroundOption([{fn:"isTrueOption",args:["chr_pro_flag"]},{fn:"getVal",args:["account_token"]}],(function(o){o[0].response;var r=o[1].response;if(ke.isProUser){if(!r)return void ke.ui.login.show({is_sync:!0});a.addClass("syncing"),chrome.runtime.sendMessage({action:ke.processCall("app","sync",e)},(function(e){e.error?(a.removeClass("syncing"),alert(e.message),s(!1)):(a.removeClass("syncing").addClass("synced"),setTimeout((function(){a.removeClass("synced")}),5e3),s(!0,e.add_rm_changes))}))}else ke.ui.pro_alert.show(n,"sync"),"undefined"!=typeof ga&&ga("send","event","sync","pro-shown")})))}});