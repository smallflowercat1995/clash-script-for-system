!function(e){ke.import("ext.util.storageUtil");"Shift+T,Alt+T".split(",").reverse();window.navigator.appVersion.indexOf("Mac");var t=2,o=1;pl.extend(ke.particles.sett_trans_combo.view,{getLastIndex:function(){return o-1},getCurrentIndex:function(){return o},renderCombination:function(e,t,n,a,i){pl(".combination-list").append(ke.ext.tpl.compile(pl(".t-combinations").html(),{from:e,to:t,combo:i,index1:o++,index2:o++,index3:o++,number:ke.app.temp.combos+1,main_class:n?"main-combo":"",new_identifier:a?"just-added":""}));for(var s=o-2;s<=o;++s)pl(".opt-"+s).removeClass("templated");var r=$(".cs-"+(o-1));ke.particles.sett_trans_combo.model.updateCurrentState((""+i).split("+"),r),r.find(".combo").on("click",ke.particles.sett_trans_combo.model.activateKeysDetection),r.find(".combo-del-tick").on("click",ke.particles.sett_trans_combo.model.removeCombination),r.find(".clear-combo").on("click",ke.particles.sett_trans_combo.model.clearKeys),n||ke.app.temp.combos++},renderAllCombinations:function(e){var t=this;ke.ext.util.storageUtil.chainRequestBackgroundOption([{fn:"getDecodedVal",args:["add_trans_combinations"]},{fn:"getVal",args:["trans_combination"]},{fn:"getVal",args:["from_lang"]},{fn:"getVal",args:["to_lang"]}],(function(o){if(o){var n=o[2].response,a=o[3].response;for(var i in t.renderCombination(n,a,!0,!1,o[1].response,o[0].response.main),o[0].response)"main"!=i&&t.renderCombination(o[0].response[i].from,o[0].response[i].to,!1,!1,i,o[0].response[i])}e(),ke.particles.sett_trans_combo.model.ctrlNewComboClass()}))},getComboVariants:function(e,o,n){var a=ke.particles.sett_trans_combo.model.getCombinationItemData(pl(".opt-"+e));t=ke.particles.sett_trans_combo.model.isFromSel(e)?ke.particles.lang_selectors.view.TYPES.FROM:ke.particles.lang_selectors.view.TYPES.TO,ke.particles.lang_selectors.view.fillDropdown(t,e,a,ke.ext.const.lang.list,n)}})}();