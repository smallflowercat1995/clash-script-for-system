var Ping=function(t){this.opt=t||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0};Ping.prototype.ping=function(t,i){try{var o;this.img=new Image;var e=new Date;function n(t){o&&clearTimeout(o);var n=new Date-e;if("function"==typeof i)return"error"===t.type?i("error",n):i(null,n)}this.img.onload=n,this.img.onerror=n,this.timeout&&(o=setTimeout(n,this.timeout)),this.img.src=t+this.favicon+"?"+ +new Date}catch(t){}};