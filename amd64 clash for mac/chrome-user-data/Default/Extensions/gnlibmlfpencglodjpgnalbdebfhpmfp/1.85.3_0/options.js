var s=window.React;var J=window.ReactDOM;var Kt=crypto.getRandomValues(new Uint32Array(1))[0].toString(36),qe=0,Jt=r=>(qe+=1,`jss-${Kt}-${qe}-${r}`),Zt=(r,t)=>{for(let e of["","-webkit-","-moz-"]){let n=`${e}${r}`;if(CSS.supports(n,t))return[n,t]}return[r,t]},$t=(r,t)=>{for(let e of["","-webkit-","-moz-"]){let n=`${e}${t}`;if(CSS.supports(r,n))return[r,n]}return[r,t]},Wt=(r,t)=>r==="appearance"||r==="text-stroke"||r==="user-select"?Zt(r,t):t==="fit-content"?$t(r,t):[r,t],Me=class{constructor(t){this.style=t,this.entries=[];for(let[e,n]of Object.entries(this.style))this.entries.push(this.createEntry(e,n));this.classes={};for(let e of this.entries)e.className!==""&&(this.classes[e.styleKey]=e.className);this.text=this.entries.map(e=>e.styleText).join(`
`),this.node=document.createElement("style"),this.node.textContent=this.text}createEntry(t,e){let n,i;t==="@global"?(n="",i=""):(n=Jt(t),i=`.${n}`);let a=[];this.createRuleItem(i,e,a);let o=[];for(let[p,c]of a)Object.keys(c).length>0&&o.push(this.createRuleText(p,c));let l=o.join(`
`);return{styleKey:t,styleValue:e,styleText:l,className:n}}createRuleItem(t,e,n){let i=t,a={};n.push([i,a]);for(let[o,l]of Object.entries(e))if(typeof l=="object"&&!Array.isArray(l)){let p=o.replace(/&/g,i);this.createRuleItem(p,l,n)}else a[o]=l}createRuleText(t,e){let n=[`${t} {`];for(let[i,a]of Object.entries(e))i=i.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`),Array.isArray(a)&&(a=a.join(", ")),[i,a]=Wt(i,String(a)),n.push(`    ${i}: ${a};`);return n.push("}"),n.join(`
`)}attach(){return this.node.isConnected||document.head.appendChild(this.node),this}remove(){this.node.isConnected&&this.node.remove()}toString(){return this.text}},Yt=r=>new Me(r),Qt=r=>{r.remove()},He=CSS.supports("-moz-appearance","none"),Be=CSS.supports("-webkit-appearance","-apple-pay-button"),en=navigator.standalone!==void 0,tn=(r,t)=>He||Be?{textStroke:r,paintOrder:"stroke"}:{position:"relative",zIndex:0,"&:before":{position:"absolute",left:"0",right:"0",zIndex:-1,content:`attr(${t})`,textStroke:r}},g={createStyleSheet:Yt,removeStyleSheet:Qt,createTextStroke:tn,platform:{firefox:He,safari:Be,ios:en}};function X({name:r,size:t,className:e}){return e=["material-icons-outlined",e].join(" ").trim(),t=`${t}px`,s.createElement("i",{className:e,style:{fontSize:t,width:t,height:t}},r)}var{classes:nn}=g.createStyleSheet({ul:{margin:0,padding:"0 8px",borderBottom:"1px solid #ccc"},li:{display:"inline-block",marginBottom:"-1px"},label:{background:"#fff",borderBottom:"1px solid #ccc",borderLeft:"1px solid #fff",borderRight:"1px solid #fff",borderTop:"1px solid #fff",cursor:"default",fontSize:"14px",lineHeight:"16px",padding:"6px 12px",userSelect:"none"},value:{borderBottom:"1px solid #fff",borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderTop:"1px solid #333"},icon:{float:"left",marginRight:"6px"}}).attach(),{classes:rn}=g.createStyleSheet({ul:{margin:0,padding:"0 8px",borderTop:"1px solid #ccc"},li:{display:"inline-block",marginTop:"-1px"},label:{background:"#fff",borderBottom:"1px solid #fff",borderLeft:"1px solid #fff",borderRight:"1px solid #fff",borderTop:"1px solid #ccc",cursor:"default",fontSize:"14px",lineHeight:"16px",padding:"6px 12px",userSelect:"none"},value:{borderBottom:"1px solid #333",borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderTop:"1px solid #fff"},icon:{float:"left",marginRight:"6px"}}).attach(),{classes:sn}=g.createStyleSheet({ul:{margin:0,padding:"8px 0",width:"max-content",borderRight:"1px solid #ccc"},li:{display:"block",marginRight:"-1px"},label:{background:"#fff",borderBottom:"1px solid #fff",borderLeft:"1px solid #fff",borderRight:"1px solid #ccc",borderTop:"1px solid #fff",cursor:"default",fontSize:"14px",lineHeight:"16px",padding:"6px 12px",textAlign:"right",userSelect:"none"},value:{borderBottom:"1px solid #ccc",borderLeft:"1px solid #333",borderRight:"1px solid #fff",borderTop:"1px solid #ccc"},icon:{float:"left",marginRight:"6px"}}).attach(),an={bottom:rn,left:sn,top:nn},F=class extends s.PureComponent{constructor(){super(...arguments);this.handleOnClick=e=>()=>{this.props.onChange&&this.props.onChange(e.value)};this.renderChild=(e,n)=>{let i=this.getClasses(),a=i.label;return e.value===this.props.value&&(a=`${a} ${i.value}`),s.createElement("li",{className:i.li,key:n},s.createElement("div",{className:a,onClick:this.handleOnClick(e)},e.icon&&s.createElement(X,{className:i.icon,name:e.icon,size:"16"}),s.createElement("span",null,e.label)))};this.renderChildren=()=>this.props.schema.items.map(this.renderChild)}getClasses(){return an[this.props.position??"top"]}render(){let e=this.getClasses(),n=this.props.className;return n=[e.ul,n].join(" ").trim(),s.createElement("ul",{className:n},this.renderChildren())}};var Xe="https://www.dualsub.xyz/";var Ue="https://www.dualsub.xyz/feedback.html",Ke="https://www.dualsub.xyz/changelog.html",Je="https://www.dualsub.xyz/setting.html",Te=["https://www.youtube.com/","https://www.netflix.com/","https://www.disneyplus.com/","https://www.9now.com.au/","https://www.amcplus.com/","https://www.ardmediathek.de/","https://www.arte.tv/","https://www.bbc.co.uk/","https://www.bilibili.com/","https://www.britbox.co.uk/","https://www.britbox.com/","https://www.channel4.com/","https://www.channel5.com/","https://www.coupangplay.com/","https://www.coursera.org/","https://www.funimation.com/","https://www.hmnow.com/","https://www.hotstar.com/","https://www.hulu.com/","https://www.iflix.com/","https://www.iq.com/","https://www.itv.com/","https://www.magellantv.com/","https://www.paramountplus.com/","https://www.peacocktv.com/","https://www.primevideo.com/","https://www.raiplay.it/","https://www.rtve.es/","https://www.starplus.com/","https://www.starz.com/","https://www.ted.com/","https://www.udemy.com/","https://www.viki.com/","https://www.zdf.de/","https://10play.com.au/","https://7plus.com.au/","https://iview.abc.net.au/","https://m.youtube.com/","https://play.hbomax.com/","https://play.stan.com.au/","https://vimeo.com/","https://viu.tv/","https://watch.frndlytv.com/","https://wetv.vip/","https://player.dualsub.xyz/"];var on=r=>(g.platform.safari&&(g.platform.ios?(r.height="28px",r.border="1px solid -apple-system-secondary-label",r.borderRadius="5px",r.color="#000"):(r.appearance="square-button",r.height="28px")),r),{classes:ze}=g.createStyleSheet({root:on({margin:0,padding:0}),label:{fontSize:"14px",lineHeight:"16px",padding:"4px",userSelect:"none"},icon:{marginRight:"4px",verticalAlign:"top","&:last-child":{marginRight:0}}}).attach(),C=class extends s.PureComponent{constructor(){super(...arguments);this.handleOnClick=()=>{let e=this.props.value;this.props.onClick&&this.props.onClick(e)}}renderChildren(){let{label:e,icon:n}=this.props;return s.createElement("div",{className:ze.label},n&&s.createElement(X,{className:ze.icon,name:n,size:"16"}),e&&s.createElement("span",null,e))}render(){let e=this.props.className;e=[ze.root,e].join(" ").trim();let n=this.props.disabled;return s.createElement("button",{className:e,disabled:n,onClick:this.handleOnClick},this.renderChildren())}};var ln=r=>(g.platform.firefox&&(r.height="16px"),r),{classes:Ee}=g.createStyleSheet({root:{display:"inline-block"},wrap:{alignItems:"center",display:"flex"},label:{fontSize:"14px",lineHeight:"1em"},input:ln({fontSize:"14px",lineHeight:"16px",width:"100%",margin:"0 4px 0 0",padding:"4px","&:last-child":{marginRight:0}})}).attach(),I=class extends s.PureComponent{constructor(){super(...arguments);this.handleOnChange=e=>{let n=e.target,i;this.props.schema.type==="number"?i=parseInt(n.value):i=n.value,this.props.onChange&&this.props.onChange(i)}}render(){let e=this.props.className;e=[Ee.root,e].join(" ").trim();let n=this.props.style,i=this.props.schema,a=this.props.value,o=this.props.disabled;return s.createElement("span",{className:e,style:n},s.createElement("span",{className:Ee.wrap},s.createElement("input",{className:Ee.input,type:i.type,placeholder:i.placeholder,spellCheck:i.spellcheck,title:i.tooltip,value:a,disabled:o,onChange:this.handleOnChange}),i.label&&s.createElement("span",{className:Ee.label},i.label)))}};var ee=class extends s.PureComponent{constructor(e){super(e);this.handleOnChange=e=>{this.props.onChange&&this.props.onChange(e),this.setState({value:e})};this.state={value:e.defaultValue}}render(){let e=this.props.className,n=this.props.style,i=this.props.schema,a=this.state.value;return s.createElement(I,{className:e,style:n,schema:i,value:a,onChange:this.handleOnChange})}};var{classes:A}=g.createStyleSheet({overlay:{position:"fixed",width:"100vw",height:"100vh",top:0,left:0,zIndex:99},input:{width:"360px"},message:{minWidth:"360px",fontSize:"14px"},dialog:{position:"absolute",top:"25%",left:"50%",transform:"translateX(-50%)",border:"1px solid #ccc",background:"#fff"},header:{fontSize:"14px",fontWeight:"bold",padding:"8px"},content:{borderBottom:"1px solid #ccc",borderTop:"1px solid #ccc",padding:"8px"},footer:{padding:"8px",display:"grid",gridAutoFlow:"column",gridColumnGap:"8px",justifyContent:"flex-end"}}).attach(),pn=r=>new Promise(t=>{let e=document.createElement("div");e.classList.add(A.overlay),document.body.appendChild(e);let n=J.createRoot(e),i="",a={type:"string"},o=c=>{i=c},l=c=>{n.unmount(),e.remove(),t(c==="ok"?i:null)},p=s.createElement("div",{className:A.dialog},s.createElement("div",{className:A.header},r),s.createElement("div",{className:A.content},s.createElement(ee,{className:A.input,schema:a,defaultValue:i,onChange:o})),s.createElement("div",{className:A.footer},s.createElement(C,{label:"\u786E\u5B9A",value:"ok",icon:"check",onClick:l}),s.createElement(C,{label:"\u53D6\u6D88",value:"cancel",icon:"close",onClick:l})));n.render(p)}),cn=(r,t,e)=>new Promise(n=>{e=e??"OK";let i=document.createElement("div");i.classList.add(A.overlay),document.body.appendChild(i);let a=J.createRoot(i),o=()=>{a.unmount(),i.remove(),n(null)},l=s.createElement("div",{className:A.dialog},s.createElement("div",{className:A.header},t),s.createElement("div",{className:A.content},s.createElement("div",{className:A.message},r)),s.createElement("div",{className:A.footer},s.createElement(C,{label:e,value:"ok",icon:"check",onClick:o})));a.render(l)}),dn=(r,t,e,n)=>new Promise(i=>{e=e??"OK",n=n??"Cancel";let a=document.createElement("div");a.classList.add(A.overlay),document.body.appendChild(a);let o=J.createRoot(a),l=c=>{o.unmount(),a.remove(),i(c==="ok")},p=s.createElement("div",{className:A.dialog},s.createElement("div",{className:A.header},t),s.createElement("div",{className:A.content},s.createElement("div",{className:A.message},r)),s.createElement("div",{className:A.footer},s.createElement(C,{label:e,value:"ok",icon:"check",onClick:l}),s.createElement(C,{label:n,value:"cancel",icon:"close",onClick:l})));o.render(p)}),Ze={prompt:pn,alert:cn,confirm:dn};var $e=(r,t,e)=>async n=>{let i=t.confirmContinueMessage,a=t.yes,o=t.no;await Ze.confirm(i,e,a,o)&&r(n)};var{classes:un}=g.createStyleSheet({root:{position:"absolute",top:"8px",right:"8px",fontSize:"14px",lineHeight:"30px"}}).attach(),te=class extends s.PureComponent{constructor(){super(...arguments);this.onClick=e=>{this.props.agent.reset()}}renderLink(e,n){return s.createElement("a",{href:e,rel:"noreferrer",target:"_blank"},n)}renderLinkReset(){let e=this.props.i18ns.option,n=$e(this.onClick,e,e.resetAllSettingsToDefault);return s.createElement("a",{href:"",onClick:a=>{a.preventDefault(),n("resetAllSettings")}},e.reset)}render(){let e=this.props.i18ns.option;return s.createElement("div",{className:un.root},this.renderLinkReset(),s.createElement("span",null," "),this.renderLink(Je,e.help))}};var je=(r,t)=>{let e=r.type;if(e==="string"||e==="number"||e==="boolean")return typeof t===e;if(e==="null")return t===null;if(e==="array")return Array.isArray(t);if(e==="object")return!(typeof t!="object"||t===null||Array.isArray(t));throw`invalid schema type: ${e}`},We=(r,t)=>{let e=r.type;if(e==="string"||e==="number"||e==="boolean"){r=r,t!==void 0&&r.enum!==void 0&&(r.enum.includes(t)||(t=void 0));let n=!1;if(t!==void 0&&(n=je(r,t)),n||(t=r.default,t!==void 0&&(n=je(r,t))),e==="string")return n?t:"";if(e==="number")return n?t:0;if(e==="boolean")return n?t:!1}if(e==="null")return null;if(e==="array")return[];if(e==="object")return{};throw`invalid schema type: ${e}`},gn=(r,t)=>{let e=r.type;if(e==="string"||e==="number"||e==="boolean")return We(r)===t;if(e==="null")return!0;if(e==="array")return t.length===0;if(e==="object")return Object.keys(t).length===0;throw`invalid schema type: ${e}`};function ne(r,t,e){let n=t.type;if(n==="string"||n==="number"||n==="boolean")return We(t,e);if(n==="null")return null;if(n==="array"){if(t=t,t.items===void 0)return[];je(t,e)||(e=[]);let i=t.items,a=[];for(let o of e)a.push(ne(r,i,o));return a}if(n==="object"){if(t=t,t.properties===void 0)return{};je(t,e)||(e={});let i=t.properties,a=t.required??[],o={};for(let[l,p]of Object.entries(i)){let c=e[l];if(r==="expand"){let d=ne(r,p,c);o[l]=d;continue}if(r==="shrink"){let d=ne(r,p,c);gn(p,d)||(o[l]=d);continue}if(r==="inject"){let d=c!==void 0,m=a.includes(l);if(d||m){let b=ne(r,p,c);o[l]=b}continue}throw`invalid mode: ${r}`}return o}throw`invalid schema type: ${n}`}var k=(r,t)=>ne("inject",r,t);function re(r,t){t=t??new WeakMap;let e=typeof r;if(e==="string"||e==="number"||e==="boolean"||e==="function"||r===null)return r;if(e!=="object")throw`invalid type: ${e}`;if(t.has(r))throw"circular reference";if(Array.isArray(r)){t.set(r,!0);let i=r.map(a=>re(a,t));return t.delete(r),i}t.set(r,!0);let n={};for(let[i,a]of Object.entries(r))n[i]=re(a,t);return t.delete(r),n}function M(r){let t=typeof r;if(t==="string"||t==="number"||t==="boolean"||t==="function"||r===null)return r;if(t!=="object")throw`invalid type: ${t}`;return Array.isArray(r)?r.slice():Object.assign({},r)}function De(r){let t=typeof r;if(t==="string"||t==="number"||t==="boolean")return{type:t,default:r};if(r===null)return{type:"null"};if(Array.isArray(r))return{type:typeof r[0],default:r[0],enum:r};if(t!=="object")throw`invalid value type: ${t}`;let e=r,n=e.type;if(!(n==="string"||n==="number"||n==="boolean"||n==="null")){if(n==="array"){let i=De(e.items);i!==void 0&&(e.items=i);return}if(n==="object"){let i=e.properties??{};for(let[a,o]of Object.entries(i)){let l=De(o);l!==void 0&&(i[a]=l)}e.required===!0&&(e.required=Object.keys(i)),e.required===!1&&(e.required=[]);return}throw`invalid schema type: ${n}`}}var Ye=r=>{let t=re(r);return De(t),t};var{classes:Qe}=g.createStyleSheet({root:{},textarea:{padding:"4px",fontSize:"14px",lineHeight:"18px"}}).attach(),ie=class extends s.PureComponent{constructor(){super(...arguments);this.handleOnChange=e=>{let i=e.target.value;this.props.onChange&&this.props.onChange(i)}}render(){let e=this.props.className;e=[Qe.root,e].join(" ").trim();let n=this.props.style,{schema:i,value:a}=this.props;return s.createElement("div",{className:e,style:n},s.createElement("textarea",{className:Qe.textarea,rows:i.rows,cols:i.cols,placeholder:i.placeholder,spellCheck:i.spellcheck,value:a,onChange:this.handleOnChange}))}};var{classes:_e}=g.createStyleSheet({root:{boxSizing:"border-box",display:"inline-block",fontSize:"14px",height:"28px",padding:"6px 4px",whiteSpace:"nowrap"},label:{display:"inline-block",verticalAlign:"middle",lineHeight:"1em"},input:{display:"inline-block",verticalAlign:"middle",width:"16px",height:"16px",margin:"0 4px 0 0","&:last-child":{marginRight:0}}}).attach(),U=class extends s.PureComponent{constructor(){super(...arguments);this.hanldeOnChange=e=>{let i=e.target.checked;this.props.onChange&&this.props.onChange(i)}}render(){let e=this.props.className;e=[_e.root,e].join(" ").trim();let n=this.props.style,i=this.props.schema,a=this.props.value===!0;return s.createElement("label",{className:e,style:n},s.createElement("input",{className:_e.input,type:"checkbox",checked:a,onChange:this.hanldeOnChange}),i.label&&s.createElement("span",{className:_e.label},i.label))}};var mn=r=>g.platform.firefox?(r.border="1px solid #8f8f9d",r.borderRadius="2px",r.backgroundColor="#fff",r):(g.platform.safari&&(g.platform.ios?(r.borderRadius="5px",r.border="1px solid -apple-system-secondary-label",r.color="#000",r.backgroundColor="#fff"):r.border="1px solid #c0c0c0"),r),{classes:hn}=g.createStyleSheet({root:mn({boxSizing:"border-box",fontSize:"14px",height:"28px",padding:"2px 4px"})}).attach(),R=class extends s.PureComponent{constructor(){super(...arguments);this.handleOnChange=e=>{let n=e.target,i=parseInt(n.value),a=this.props.schema.items[i].value;this.props.onChange&&this.props.onChange(a)};this.renderChild=(e,n)=>{let{label:i,title:a}=e;return s.createElement("option",{key:n,value:n,title:a},i)};this.renderChildren=()=>{let{items:e,groups:n}=this.props.schema;if(n===void 0||n.length===0)return e.map(this.renderChild);let i=0,a=[];for(let[o,l]of n.entries()){let{label:p,count:c}=l,d=c>0?i+c:e.length,m=[];for(;i<d;)m.push(this.renderChild(e[i],i)),i+=1;p===""?a.push(s.createElement(s.Fragment,{key:o},m)):a.push(s.createElement("optgroup",{key:o,label:p},m))}return a}}render(){let e=this.props.className;e=[hn.root,e].join(" ").trim();let n=this.props.style,{schema:i,value:a}=this.props,o=i.items.findIndex(c=>c.value===a),l=null;o===-1?o=0:l=i.items[o].title;let p=this.props.disabled;return s.createElement("select",{className:e,style:n,value:o,disabled:p,title:l,onChange:this.handleOnChange},this.renderChildren())}};var fn=r=>(g.platform.firefox&&(r.border="1px solid #8f8f9d",r.borderRadius="2px"),r),{classes:Ie}=g.createStyleSheet({root:{display:"inline-block"},label:{display:"inline-block",fontFamily:"var(--font-mono)",fontSize:"12px",lineHeight:"1em"},input:fn({boxSizing:"border-box",height:"28px",margin:"0 4px 0 0",verticalAlign:"middle",width:"28px"})}).attach(),se=class extends s.PureComponent{constructor(){super(...arguments);this.handleChange=e=>{let i=e.target.value;this.props.onChange&&this.props.onChange(i)}}render(){let e=this.props.className;e=[Ie.root,e].join(" ").trim();let n=this.props.style,i=this.props.value;return s.createElement("span",{className:e,style:n},s.createElement("input",{className:Ie.input,type:"color",value:i,onChange:this.handleChange}),s.createElement("span",{className:Ie.label},i))}};var{classes:z}=g.createStyleSheet({root:{border:"1px solid #ccc",width:"max-content",display:"flex",flexDirection:"column"},ul:{margin:0,padding:0,overflow:"auto"},li:{display:"block"},label:{background:"#fff",cursor:"default",fontSize:"14px",lineHeight:"16px",padding:"6px 12px",textAlign:"left",userSelect:"none",display:"flex","& > span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},value:{color:"#fff",background:"#0075ff"},icon:{float:"left",marginRight:"12px"},toolbar:{borderBottom:"1px solid #ccc",padding:"4px",textAlign:"right"},button:{marginRight:"4px","&:last-child":{marginRight:0}}}).attach(),Z=class extends s.PureComponent{constructor(){super(...arguments);this.handleItemOnClick=e=>()=>{this.props.onChange&&this.props.onChange(e.value)};this.handleButtonOnClick=e=>()=>{this.props.onClick&&this.props.onClick(e)};this.renderChild=(e,n)=>{let i=z.label;return e.value===this.props.value&&(i=`${i} ${z.value}`),s.createElement("li",{className:z.li,key:n},s.createElement("div",{className:i,onClick:this.handleItemOnClick(e)},e.icon&&s.createElement(X,{className:z.icon,name:e.icon,size:"16"}),s.createElement("span",null,e.label)))};this.renderChildren=()=>{let e=this.props.schema.items;if(e.length!==0)return s.createElement("ul",{className:z.ul},e.map(this.renderChild))};this.renderToolbar=()=>{let e=this.props.schema.actions??[];if(e.length!==0)return s.createElement("div",{className:z.toolbar},e.includes("add")&&s.createElement(C,{className:z.button,icon:"add",value:"add",onClick:this.handleButtonOnClick("add")}),e.includes("remove")&&s.createElement(C,{className:z.button,icon:"remove",value:"remove",onClick:this.handleButtonOnClick("remove")}),e.includes("up")&&s.createElement(C,{className:z.button,icon:"arrow_upward",value:"up",onClick:this.handleButtonOnClick("up")}),e.includes("down")&&s.createElement(C,{className:z.button,icon:"arrow_downward",value:"down",onClick:this.handleButtonOnClick("down")}))}}render(){let e=this.props.className;e=[z.root,e].join(" ").trim();let n=this.props.style;return s.createElement("div",{className:e,style:n},this.renderToolbar(),this.renderChildren())}};var{classes:yn}=g.createStyleSheet({panel:{padding:"8px"},panel1:{padding:"8px",borderLeft:"4px solid #8bc34a"},panel2:{padding:"8px",borderLeft:"4px solid #ff9800"},toolbar:{"& > *":{marginRight:"8px","&:last-child":{marginRight:0}}},code:{margin:0,padding:"8px"}}).attach();var et=r=>{let t=r.className;t=[yn.code,t].join(" ").trim();let e=r.style,n=r.value;return s.createElement("pre",{className:t,style:e},n)},ae=(r,t)=>{for(let[e,n]of Object.entries(t)){let i=new RegExp("\\{"+e+"\\}","g");r=r.replace(i,n)}return r};var{classes:Ge}=g.createStyleSheet({root:{display:"inline-block",position:"relative"},label:{display:"inline-block",fontFamily:"var(--font-mono)",fontSize:"12px",lineHeight:"1em",position:"absolute",top:0},input:{boxSizing:"border-box",height:"28px",margin:"0 4px 0 0",verticalAlign:"middle",width:"100%"}}).attach(),oe=class extends s.PureComponent{constructor(){super(...arguments);this.handleChange=e=>{let n=e.target,i=parseInt(n.value);this.props.onChange&&this.props.onChange(i)}}render(){let e=this.props.className;e=[Ge.root,e].join(" ").trim();let n=this.props.style,i=this.props.value,a=ae(this.props.label??"{value}",{value:i}),l={[i>50?"left":"right"]:0};return s.createElement("span",{className:e,style:n},s.createElement("input",{className:Ge.input,type:"range",value:i,onChange:this.handleChange}),s.createElement("span",{className:Ge.label,style:l},a))}};var L=(...r)=>r.join(" ").trim(),{classes:y}=g.createStyleSheet({root:{fontSize:"14px"},gridLayout:{display:"grid",gridColumnGap:"4px",gridRowGap:"4px",gridTemplateColumns:"repeat(5, max-content)"},gridText:{lineHeight:"28px"},gridEdit:{"& > *":{width:"100%"}},gridDisabled:{opacity:"0.5",pointerEvents:"none"},topLayout:{display:"grid",gridRowGap:"8px",gridTemplateRows:"auto 1fr"},topMenu:{marginBottom:"8px","& > select":{width:"100%"}},topHeader:{borderBottom:"1px solid #ccc",borderTop:"1px solid transparent",lineHeight:"16px",padding:"6px 0",fontWeight:"bold"},leftLayout:{display:"grid",gridColumnGap:"8px",gridTemplateColumns:"auto 1fr"},leftHeader:{borderRight:"1px solid #ccc",lineHeight:"16px",padding:"6px 8px 6px 0",fontWeight:"bold",textAlign:"right"},flatLayout:{display:"grid",gridRowGap:"8px"},flowLayout:{display:"grid",gridAutoFlow:"column",gridColumnGap:"4px",alignItems:"center"},pickLayout:{display:"grid",gridRowGap:"4px",gridColumnGap:"4px",alignItems:"center"},pickChecked:{color:"#000"},pickDeleted:{"& span":{opacity:"0.5"}}}).attach(),le=class extends s.PureComponent{constructor(){super(...arguments);this.handleOnChange=e=>n=>{this.props.onChange&&this.props.onChange(e,n)};this.handleOnActive=e=>n=>{this.props.onActive&&this.props.onActive(e,n)};this.handleOnPrepare=e=>n=>{this.props.onPrepare&&this.props.onPrepare(e,n)};this.handleOnRemove=(e,n)=>()=>{this.props.onRemove&&this.props.onRemove(e,n)};this.handleOnAdd=(e,n)=>i=>{this.props.onAdd&&this.props.onAdd(e,n,i)};this.handleOnClick=(e,n)=>i=>{let[a,o]=n;if(i==="add"&&this.props.onAdd){this.props.onAdd(e,a);return}if(i==="remove"&&this.props.onRemove){o>=0&&this.props.onRemove(e,o);return}if(i==="up"&&this.props.onMoveUp){o>0&&this.props.onMoveUp(e,o);return}if(i==="down"&&this.props.onMoveDown){o<a-1&&this.props.onMoveDown(e,o);return}};this.extractEnumMappings=e=>{let n={},i=e.items.properties??{};for(let a of Object.keys(i)){let o=i[a],l=o.widget??{},p=o.enum??[],c=l.enumNames??[],d={};for(let[m,b]of p.entries())d[String(b)]=c[m];n[a]=d}return n};this.createFormatReplaces=(e,n)=>{let i={...e};for(let[a,o]of Object.entries(e)){let l=n[a];l&&(i[`:${a}`]=l[String(o)])}return i}}renderEnumerate(e,n,i){n=k(e,n);let a=e.widget??{},o=a.enumNames??[],l=a.enumTitles??[],c={items:e.enum.map((d,m)=>{let b=o[m]??d,u=l[m];return{label:b,value:d,title:u}})};return s.createElement(R,{className:a.className,style:a.style,schema:c,value:n,onChange:this.handleOnChange(i)})}renderTypeString(e,n,i){n=k(e,n);let a=e.widget??{};if(a.type==="color")return s.createElement(se,{className:a.className,style:a.style,value:n,onChange:this.handleOnChange(i)});if(a.type==="text"){let l={rows:a.rows,cols:a.cols,placeholder:a.placeholder,spellcheck:a.spellcheck};return s.createElement(ie,{className:a.className,style:a.style,schema:l,value:n,onChange:this.handleOnChange(i)})}let o={type:"string",placeholder:a.placeholder,spellcheck:a.spellcheck,tooltip:a.tooltip};return s.createElement(I,{className:a.className,style:a.style,schema:o,value:n,onChange:this.handleOnChange(i)})}renderTypeNumber(e,n,i){n=k(e,n);let a=e.widget??{};if(a.type==="slider")return s.createElement(oe,{className:a.className,style:a.style,value:n,onChange:this.handleOnChange(i)});let o={type:"number",tooltip:a.tooltip};return s.createElement(I,{className:a.className,style:a.style,schema:o,value:n,onChange:this.handleOnChange(i)})}renderTypeBoolean(e,n,i){n=k(e,n);let a=e.widget??{},o={};return s.createElement(U,{className:a.className,style:a.style,schema:o,value:n,onChange:this.handleOnChange(i)})}renderTypeNull(e,n){n=k(e,n);let i=e.widget??{};return s.createElement(et,{className:i.className,style:i.style,value:n})}renderTypeObjectTab(e,n,i){n=k(e,n);let a=e.properties??[],o=e.widget??{},l=[];for(let S of Object.keys(a))l.push({value:S,label:a[S].title??S});let p={items:l},c=o.active??l[0].value,d=a[c],m=n[c],b=[...i,c],u=o.position??"top",{topLayout:h,leftLayout:w}=y,x=u==="top"?h:w;return x=L(x,o.className),s.createElement("div",{className:x,style:o.style},s.createElement(F,{schema:p,value:c,position:o.position,onChange:this.handleOnActive(i)}),s.createElement("div",null,this.renderSchema(d,m,b)))}renderTypeObjectMenu(e,n,i){n=k(e,n);let a=e.properties??[],o=e.widget??{},l=[];for(let w of Object.keys(a))l.push({value:w,label:a[w].title??w});let p=o.groups,c={items:l,groups:p},d=o.active;d&&n[d]===void 0&&(d=void 0),!d&&o.single&&(d=Object.keys(n)[0]),d||(d=l[0].value);let m=a[d],b=n[d],u=[...i,d],h=o.className;return s.createElement("div",{className:h,style:o.style},s.createElement("div",{className:y.topMenu},s.createElement(R,{schema:c,value:d,onChange:this.handleOnActive(i)})),s.createElement("div",null,this.renderSchema(m,b,u)))}renderTypeObjectFlat(e,n,i){n=k(e,n);let a=e.properties??[],o=e.widget??{},{topLayout:l,leftLayout:p,topHeader:c,leftHeader:d}=y,m=o.position??"top",b=m==="top"?l:p,u=m==="top"?c:d,h=[];for(let x of Object.keys(a)){let S=a[x],N=n[x],_=[...i,x];h.push(s.createElement("div",{className:b,key:x},s.createElement("div",{className:u},S.title??x),s.createElement("div",null,this.renderSchema(S,N,_))))}let w=L(y.flatLayout,o.className);return s.createElement("div",{className:w,style:o.style},h)}renderTypeObjectList(e,n,i){n=k(e,n);let a=e.properties??[],o=e.widget??{},l=[];for(let h of Object.keys(a))l.push({value:h,label:a[h].title??h,icon:o.icon});let p={items:l},c=o.active??l[0].value,d=a[c],m=n[c],b=[...i,c],u=L(y.leftLayout,o.className);return s.createElement("div",{className:u,style:o.style},s.createElement(Z,{style:{width:"100%"},schema:p,value:c,onChange:this.handleOnActive(i)}),s.createElement("div",null,this.renderSchema(d,m,b)))}renderTypeObjectFlow(e,n,i){n=k(e,n);let a=e.properties??[],o=e.widget??{},l=e.required??[],p=[];for(let[d,m]of l.entries()){let b=a[m],u=n[m],h=[...i,m],w=o.separator&&d+1<l.length;p.push(s.createElement(s.Fragment,{key:m},s.createElement("span",{className:y.gridEdit},this.renderSchema(b,u,h)),w&&s.createElement("span",null,o.separator)))}let c=L(y.flowLayout,o.className);return s.createElement("div",{className:c,style:o.style},p)}renderTypeObjectGridInline(e,n,i){n=k(e,n);let a=e.properties??[],o=e.required??[],l=e.widget??{},p=[];for(let d of Object.keys(a)){let m=a[d],b=n[d],u=[...i,d],h=m.widget??{},w=o.includes(d),x=m.title??d;l.title&&(x=ae(l.title,{title:m.title,key:d}));let S=y.gridText,N=y.gridEdit,_=y.gridText,B=y.gridText;!w&&b===void 0&&(S=L(y.gridDisabled,S),N=L(y.gridDisabled,N),_=L(y.gridDisabled,_),B=L(y.gridDisabled,B));let Le=null;w||(b===void 0?Le=s.createElement(C,{icon:"add",onClick:this.handleOnAdd(i,d)}):Le=s.createElement(C,{icon:"remove",onClick:this.handleOnRemove(i,d)})),p.push(s.createElement(s.Fragment,{key:d},s.createElement("span",{className:S},x),s.createElement("span",{className:_},h.prefix),s.createElement("span",{className:N},this.renderSchema(m,b,u)),s.createElement("span",{className:B},h.suffix),s.createElement("span",null,Le)))}let c=L(y.gridLayout,l.className);return s.createElement("div",{className:c,style:l.style},p)}renderTypeObjectGridNewline(e,n,i){n=k(e,n);let a=e.properties??[],o=e.required??[],l=e.widget??{},p={};for(let u of Object.keys(a))p[u]=o.includes(u);for(let u of Object.keys(n))a[u]&&(p[u]=!0);let c=[],d=[];for(let[u,h]of Object.entries(p))h?c.push(u):d.push(u);let m=[];for(let u of c){let h=a[u],w=n[u],x=[...i,u],S=h.widget??{},N=o.includes(u),_=h.title??u;l.title&&(_=ae(l.title,{title:h.title,key:u})),m.push(s.createElement(s.Fragment,{key:u},s.createElement("span",{className:y.gridText},_),s.createElement("span",{className:y.gridText},S.prefix),s.createElement("span",{className:y.gridEdit},this.renderSchema(h,w,x)),s.createElement("span",{className:y.gridText},S.suffix),s.createElement("span",null,N??s.createElement(C,{icon:"remove",onClick:this.handleOnRemove(i,u)}))))}if(d.length>0){let u=d.map(x=>({label:a[x].title??x,value:x})),h=l.prepare??d[0],w=s.createElement(R,{schema:{items:u},value:h,onChange:this.handleOnPrepare(i)});m.push(s.createElement(s.Fragment,{key:"+"},s.createElement("span",{className:y.gridEdit},w),s.createElement("span",null),s.createElement("span",null,s.createElement(C,{icon:"add",onClick:this.handleOnAdd(i,h)}))))}let b=L(y.gridLayout,l.className);return s.createElement("div",{className:b,style:l.style},m)}renderTypeObject(e,n,i){let a=e.widget??{};return a.type==="tab"?this.renderTypeObjectTab(e,n,i):a.type==="menu"?this.renderTypeObjectMenu(e,n,i):a.type==="flat"?this.renderTypeObjectFlat(e,n,i):a.type==="list"?this.renderTypeObjectList(e,n,i):a.type==="flow"?this.renderTypeObjectFlow(e,n,i):a.mode==="inline"?this.renderTypeObjectGridInline(e,n,i):this.renderTypeObjectGridNewline(e,n,i)}renderTypeArrayList(e,n,i){n=k(e,n);let a=e.widget??{},o=[];for(let[w,x]of n.entries()){let S=a.label;typeof S=="function"&&(S=S(x,w,n));let N=a.icon;typeof N=="function"&&(N=N(x,w,n)),o.push({value:w,label:S,icon:N})}let p={items:o,actions:["add","remove","up","down"]},c=a.active??0;c=c>=n.length?n.length-1:c;let d=e.items,m=n[c],b=[...i,c],u=c!==-1&&c<n.length,h=L(y.leftLayout,a.className);return s.createElement("div",{className:h,style:a.style},s.createElement(Z,{style:{width:"100%"},schema:p,value:c,onChange:this.handleOnActive(i),onClick:this.handleOnClick(i,[n.length,c])}),s.createElement("div",null,u&&this.renderSchema(d,m,b)))}renderTypeArrayPick(e,n,i){n=k(e,n);let a=e.widget??{},o={gridColumnStart:1},l=a.columns?[...a.columns]:[];for(let u=1;u<l.length;u++)l[u]+=l[u-1];let p,c;a.enum?(p=a.enum.codes??[],c=a.enum.names??[]):(p=e.items.enum??[],c=e.items.widget?.enumNames??[]);let d=[];for(let[u,h]of p.entries()){let w=c[u]??h,x=n.indexOf(h),S=x!==-1,N=S?y.pickChecked:void 0,_=l.includes(u)?o:void 0,B;S?B=this.handleOnRemove(i,x):B=()=>this.handleOnAdd(i,n.length)(h),d.push(s.createElement(s.Fragment,{key:d.length},s.createElement("span",{className:N,style:_},s.createElement(U,{schema:{label:w},value:S,onChange:B}))))}let m=!1;for(let[u,h]of n.entries()){if(p.includes(h))continue;let w;m||(w=o,m=!0),d.push(s.createElement(s.Fragment,{key:d.length},s.createElement("span",{className:y.pickDeleted,style:w},s.createElement(U,{schema:{label:h},value:!0,onChange:this.handleOnRemove(i,u)}))))}let b=L(y.pickLayout,a.className);return s.createElement("div",{className:b,style:a.style},d)}renderTypeArrayGrid(e,n,i){n=k(e,n);let a=e.widget??{},o=[];for(let[p,c]of n.entries()){let d=e.items,m=[...i,p],b=d.widget??{};o.push(s.createElement(s.Fragment,{key:p},s.createElement("span",{className:y.gridText},p+1),s.createElement("span",{className:y.gridText},b.prefix),s.createElement("span",{className:y.gridEdit},this.renderSchema(d,c,m)),s.createElement("span",{className:y.gridText},b.suffix),s.createElement("span",null,s.createElement(C,{icon:"remove",onClick:this.handleOnRemove(i,p)}))))}o.push(s.createElement(s.Fragment,{key:"+"},n.length>0&&s.createElement(s.Fragment,null,s.createElement("span",null),s.createElement("span",null)),s.createElement("span",null,s.createElement(C,{icon:"add",onClick:this.handleOnAdd(i,n.length)}))));let l=L(y.gridLayout,a.className);return s.createElement("div",{className:l,style:a.style},o)}renderTypeArray(e,n,i){let a=e.widget??{};return a.type==="list"?this.renderTypeArrayList(e,n,i):a.type==="pick"?this.renderTypeArrayPick(e,n,i):this.renderTypeArrayGrid(e,n,i)}renderSchema(e,n,i){if(e.enum)return this.renderEnumerate(e,n,i);if(e.type==="string")return this.renderTypeString(e,n,i);if(e.type==="number")return this.renderTypeNumber(e,n,i);if(e.type==="boolean")return this.renderTypeBoolean(e,n,i);if(e.type==="null")return this.renderTypeNull(e,n);if(e.type==="object")return this.renderTypeObject(e,n,i);if(e.type==="array")return this.renderTypeArray(e,n,i);throw"Invalid schema type"}render(){let e=this.props.className;e=[y.root,e].join(" ").trim();let n=this.props.schema,i=this.props.value;return s.createElement("div",{className:e},this.renderSchema(n,i,[]))}};var P=class extends s.PureComponent{constructor(e){super(e);this.executeOnChange=(e,n,i)=>{!this.props.onChange||(i!==void 0&&(n=[...n,i]),this.props.onChange(e,n))};this.executeOnActive=(e,n,i)=>{!this.props.onActive||(i!==void 0&&(n=[...n,i]),this.props.onActive(e,n))};this.querySchemas=(e,n)=>{let i=e,a=null;for(let o of n)a=i,i.type==="object"?i=i.properties[o]:i=i.items;return[i,a]};this.queryValues=(e,n)=>{let i=e;for(let o=0;o<n.length-1;o++){let l=n[o],p=n[o+1];i[l]===void 0&&(i[l]=typeof p=="string"?{}:[]),i=i[l]}i=e;let a=null;for(let o of n)a=e,e=e[o];return[e,a]};this.handleOnChange=(e,n)=>{if(e.length===0){this.executeOnChange(n,e),this.setState({value:n});return}let i=e.pop(),a=M(this.state.value),o=this.queryValues(a,e)[0];o[i]=n,this.executeOnChange(a,e,i),this.setState({value:a})};this.handleOnRemove=(e,n)=>{let i=M(this.state.value),a=this.queryValues(i,e)[0];typeof n=="string"?delete a[n]:a.splice(n,1),this.executeOnChange(i,e,n),this.setState({value:i})};this.handleOnActive=(e,n)=>{let i=M(this.state.schema),[a,o]=this.querySchemas(i,[...e,n]);if(o.widget={...o.widget,active:n},!o.widget.single){this.executeOnActive(this.state.value,e,n),this.setState({schema:i});return}let l=M(this.state.value),p=this.queryValues(l,[...e,n])[1];for(let c of Object.keys(p))c!==n&&delete p[c];p[n]===void 0&&(p[n]=k(a)),this.executeOnChange(l,e,n),this.setState({schema:i,value:l})};this.handleOnPrepare=(e,n)=>{let i=M(this.state.schema),a=this.querySchemas(i,e)[0];a.widget={...a.widget,prepare:n},this.setState({schema:i})};this.handleOnAdd=(e,n,i)=>{let a=M(this.state.schema),[o,l]=this.querySchemas(a,[...e,n]);if(l.widget){let d=l.widget;delete d.prepare}l.widget={...l.widget,active:n};let p=M(this.state.value),c=this.queryValues(p,[...e,n])[1];i=i===void 0?k(o):i,typeof n=="string"?c[n]=i:c.push(i),this.executeOnChange(p,e,n),this.setState({schema:a,value:p})};this.handleOnMoveUp=(e,n)=>{let i=M(this.state.schema),a=this.querySchemas(i,e)[0];a.widget={...a.widget,active:n-1};let o=M(this.state.value),l=this.queryValues(o,e)[0];l.splice(n-1,2,l[n],l[n-1]),this.executeOnChange(o,e,n-1),this.setState({schema:i,value:o})};this.handleOnMoveDown=(e,n)=>{let i=M(this.state.schema),a=this.querySchemas(i,e)[0];a.widget={...a.widget,active:n+1};let o=M(this.state.value),l=this.queryValues(o,e)[0];l.splice(n,2,l[n+1],l[n]),this.executeOnChange(o,e,n+1),this.setState({schema:i,value:o})};let n=re(e.defaultSchema),i=k(n,e.defaultValue);this.state={schema:n,value:i}}render(){let e=this.props.className,n=this.state.schema,i=this.state.value;return s.createElement(le,{className:e,schema:n,onChange:this.handleOnChange,onActive:this.handleOnActive,onPrepare:this.handleOnPrepare,onRemove:this.handleOnRemove,onAdd:this.handleOnAdd,onMoveUp:this.handleOnMoveUp,onMoveDown:this.handleOnMoveDown,value:i})}};var bn=g.createStyleSheet({input:{width:"300px"},grid:{gridTemplateColumns:["max-content","32px","300px","32px","max-content"].join(" ")},gridAlt:{gridTemplateColumns:["160px","32px","300px","32px","max-content"].join(" ")},list:{gridColumnGap:"16px",gridTemplateColumns:"200px 1fr",minHeight:"400px"},flat:{gridRowGap:"16px"},menu:{"& > :first-child":{width:"300px"}},pick:{gridTemplateColumns:"repeat(1, max-content)"},pick2:{gridTemplateColumns:"repeat(2, max-content)"},pick3:{gridTemplateColumns:"repeat(3, max-content)"},pick4:{gridTemplateColumns:"repeat(4, max-content)"},pick5:{gridTemplateColumns:"repeat(5, max-content)"},code:{"& input":{fontFamily:"var(--font-mono)"},"& textarea":{width:"100%",boxSizing:"border-box"}}}).attach(),v=bn.classes,f={grid:{type:"grid",className:v.grid},gridAlt:{type:"grid",className:v.gridAlt},pick:{type:"pick",className:v.pick},pick2:{type:"pick",className:v.pick2},pick3:{type:"pick",className:v.pick3},pick4:{type:"pick",className:v.pick4},pick5:{type:"pick",className:v.pick5},flat:{type:"flat",className:v.flat},codeline:{className:v.code,spellcheck:!1},codetext:{type:"text",className:v.code,spellcheck:!1,rows:5}},$={names:r=>{let t=[];for(let e of r){let n=e.name;n!==""&&!t.includes(n)&&t.push(n)}return t},conflict:(r,t,e)=>{if(r.name==="")return!0;for(let n of e){if(n===r)return!1;if(r.name===n.name)return!0}return!1}},G={type:"list",className:v.list,label:r=>r.name,icon:(r,t,e)=>$.conflict(r,t,e)?"error_outline":"check_circle_outline"};var wn=r=>{let t=r.option,e={bottomMargin:{title:t.bottomMargin,type:"number",default:100,widget:{suffix:"px"}},baseStyle:{title:t.baseStyle,type:"string",default:"stroke",enum:["stroke","background","classic","none"],widget:{enumNames:[t.stroke,t.background,t.classic,t.none]}},mouseAction:{title:t.mouseAction,type:"string",default:"none",enum:["none","text"],widget:{enumNames:[t.none,t.selectText]}}};return{title:t.subtitleRendering,type:"object",properties:e,required:Object.keys(e),widget:f.gridAlt}},xn=r=>{let t=r.option,e={subtitleCount:{title:t.subtitleCount,type:"number",default:2,enum:[2,3,4,5,6,7,8]},showOnlyLanguages:{title:t.showOnlyLanguages,type:"string",widget:f.codeline}};return{title:t.subtitleMenu,type:"object",properties:e,required:Object.keys(e),widget:f.gridAlt}},vn=r=>{let t={rendering:wn(r),dropdown:xn(r)};return{type:"object",properties:t,required:Object.keys(t),widget:f.flat}},pe=class extends s.PureComponent{render(){return s.createElement(P,{defaultSchema:vn(this.props.i18ns),defaultValue:this.props.defaultValue,onChange:this.props.onChange})}};var ce=class extends s.PureComponent{constructor(e){super(e);this.onChange=async e=>{await this.props.agent.save(e)};this.state={config:null}}componentDidMount(){this.load()}async load(){let e=await this.props.agent.load();this.setState({config:e})}render(){return this.state.config===null?null:s.createElement(pe,{i18ns:this.props.i18ns,defaultValue:this.state.config,onChange:this.onChange})}};var Sn=r=>{let t=r.option,e={languageList:{title:t.languageList,type:"string",default:"popular",enum:["popular","available"],widget:{enumNames:[t.onlyPopularLanguages,t.allAvailableLanguages]}},translationEngine:{title:t.translationEngine,type:"string",default:"google",enum:["google","microsoft"],widget:{enumNames:[t.google,t.microsoft]}},translationMode:{title:t.translationMode,type:"string",default:"enhance",enum:["auto","enhance","normal"],widget:{enumNames:[t.auto,t.enhance,t.normal]}}};return{title:t.machineTranslation,type:"object",properties:e,required:Object.keys(e),widget:f.gridAlt}},Cn=r=>{let t=r.option,e={pinyinScheme:{title:t.pinyinScheme,type:"string",default:"putonghua",enum:["putonghua","guangzhouhua","jyutping"],widget:{enumNames:[t.putonghua,t.guangzhouhua,t.jyutping]}}};return{title:t.chineseAnalysis,type:"object",properties:e,required:Object.keys(e),widget:f.gridAlt}},kn=r=>{let t=r.option,e={furiganaCharacter:{title:t.furiganaCharacter,type:"string",default:"kanji",enum:["kanji","kana"],widget:{enumNames:[t.onlyKanji,t.bothKanjiAndKana]}}};return{title:t.japaneseAnalysis,type:"object",properties:e,required:Object.keys(e),widget:f.gridAlt}},Nn=r=>{let t={translation:Sn(r),chinese:Cn(r),japanese:kn(r)};return{type:"object",properties:t,required:Object.keys(t),widget:f.flat}},de=class extends s.PureComponent{render(){return s.createElement(P,{defaultSchema:Nn(this.props.i18ns),defaultValue:this.props.defaultValue,onChange:this.props.onChange})}};var ue=class extends s.PureComponent{constructor(e){super(e);this.onChange=async e=>{await this.props.agent.save(e)};this.state={config:null}}componentDidMount(){this.load()}async load(){let e=await this.props.agent.load();this.setState({config:e})}render(){return this.state.config===null?null:s.createElement(de,{i18ns:this.props.i18ns,defaultValue:this.state.config,onChange:this.onChange})}};var W=({style:r,term:t})=>({name:{title:r.name,type:"string",widget:{className:v.input}},pos:{title:r.partOfSpeech,type:"array",items:{type:"string"},widget:{...f.pick4,columns:[1,4,3,2,4,4,2],enum:{codes:["\u65E0","\u4E13","\u4E8B","\u540D","\u5916","\u52A8\u4E00","\u52A8\u4E8C","\u52A8\u4E09","\u5F62\u4E00","\u5F62\u4E8C","\u6570","\u4EE3","\u52A9","\u526F","\u8FDE\u4F53","\u63A5\u7EED","\u63A5\u5934","\u63A5\u5C3E","\u611F\u53F9","\u52A9\u52A8"],names:[t.Wu,t.Zhuan,t.Shi,t.Ming,t.Wai,t.DongYi,t.DongEr,t.DongSan,t.XingYi,t.XingEr,t.Shu,t.Dai,t.Zhu,t.Fu,t.LianTi,t.JieXu,t.JieTou,t.JieWei,t.GanTan,t.ZhuDong]}}},form:{title:r.conjugation,type:"array",items:{type:"string"},widget:{...f.pick3,columns:[2,3,3,3],enum:{codes:["\u57FA\u672C\u5F62","\u307E\u3059\u5F62","\u3066\u5F62","\u305F\u5F62","\u306A\u3044\u5F62","\u5047\u5B9A\u5F62","\u610F\u5FD7\u5F62","\u547D\u4EE4\u5F62","\u53EF\u80FD\u5F62\u5F0F","\u88AB\u52A8\u5F62\u5F0F","\u4F7F\u5F79\u5F62\u5F0F"],names:[t.JiBenXing,t.MaSuXing,t.TeXing,t.TaXing,t.NaIXing,t.JiaDingXing,t.YiZhiXing,t.MingLingXing,t.KeNengXingShi,t.BeiDongXingShi,t.ShiYiXingShi]}}},tag:{title:r.represent,type:"array",items:{type:"string"},widget:{...f.pick4,enum:{codes:["\u7B80\u4F53","\u656C\u4F53","\u73B0\u5728","\u8FC7\u53BB","\u80AF\u5B9A","\u5426\u5B9A","\u5047\u5B9A","\u610F\u5FD7","\u547D\u4EE4","\u5EFA\u8BAE","\u526F\u8BCD\u5316","\u540D\u8BCD\u5316"],names:[t.JianTi,t.JingTi,t.XianZai,t.GuoQu,t.KenDing,t.FouDing,t.JiaDing,t.YiZhi,t.MingLing,t.JianYi,t.FuCiHua,t.MingCiHua]}}},sense:{title:r.usage,type:"array",items:{type:"string"},widget:{...f.pick3,enum:{codes:["\u81EA\u52A8","\u4ED6\u52A8","\u81EA\u4ED6\u52A8"],names:[t.ZiDong,t.TaDong,t.ZiTaDong]}}},jlpt:{title:r.jlpt,type:"array",items:{type:"string",enum:["N5","N4","N3","N2","N1"]},widget:{...f.pick5}}});var E=r=>({type:"object",properties:r,widget:{type:"grid",className:v.grid,mode:"inline"}}),tt=r=>{let t=r.style,e=W(r),n={fontSize:{title:t.fontSize,type:"number",default:100,widget:{suffix:"%"}},fontColor:{title:t.fontColor,type:"string",default:"#ffffff",widget:{type:"color"}},fontOpacity:{title:t.fontOpacity,type:"number",default:100,widget:{type:"slider",suffix:"%"}},fontEdgeEffect:{title:t.fontEdgeEffect,type:"string",default:"none",enum:["none","shadow"],widget:{enumNames:[t.none,t.shadow]}},fontEdgeColor:{title:t.fontEdgeColor,type:"string",default:"#ffffff",widget:{type:"color"}},fontEdgeSize:{title:t.fontEdgeSize,type:"number",widget:{suffix:"px"}},fontBold:{title:t.fontBold,type:"boolean",default:!0,enum:[!0,!1],widget:{enumNames:[t.true,t.false]}},fontItalic:{title:t.fontItalic,type:"boolean",default:!0,enum:[!0,!1],widget:{enumNames:[t.true,t.false]}},backgroundColor:{title:t.backgroundColor,type:"string",default:"#ffffff",widget:{type:"color"}},backgroundOpacity:{title:t.backgroundOpacity,type:"number",default:100,widget:{type:"slider",suffix:"%"}},backgroundEdgeEffect:{title:t.backgroundEdgeEffect,type:"string",default:"none",enum:["none","shadow"],widget:{enumNames:[t.none,t.shadow]}},backgroundEdgeColor:{title:t.backgroundEdgeColor,type:"string",default:"#ffffff",widget:{type:"color"}},borderSize:{title:t.borderSize,type:"number",widget:{suffix:"px"}},borderColor:{title:t.borderColor,type:"string",default:"#ffffff",widget:{type:"color"}}},i={display1:{title:t.display,type:"string",default:"true",enum:["true","false"],widget:{enumNames:[t.true,t.false]}},display2:{title:t.display,type:"string",default:"true",enum:["true","false","preserve"],widget:{enumNames:[t.true,t.false,t.preserve]}},flexAlign:{title:t.alignment,type:"string",default:"center",enum:["center","left","right","evenly"],widget:{enumNames:[t.center,t.left,t.right,t.evenly]}}},a={display:i.display1,match:{title:t.matchText,type:"string",widget:{placeholder:t.all}},...n},o={display:i.display1,match:{...e.pos,title:t.matchText},...n},l={display:i.display1,match:{...e.form,title:t.matchText},...n},p={display:i.display1,match:{...e.tag,title:t.matchText},...n},c={display:i.display1,match:{...e.sense,title:t.matchText},...n},d={display:i.display1,match:{...e.jlpt,title:t.matchText},...n},m={display:i.display2,...n},b={display:i.display2,flexAlign:i.flexAlign,...n},u={display:i.display2,backgroundColor:n.backgroundColor,backgroundEdgeEffect:n.backgroundEdgeEffect,backgroundEdgeColor:n.backgroundEdgeColor,borderSize:n.borderSize,borderColor:n.borderColor},h={...n},w={flexAlign:i.flexAlign,...n},x=()=>{let N={none:{title:"",type:"null"},dialogue:{...E(w),title:t.wholeText},contents:{...E(h),title:t.contentText},readings:{...E(m),title:t.readingBar},grammars:{...E(b),title:t.grammarBar},dividers:{...E(u),title:t.segmentationLine},pinyin:{...E(a),title:t.pinyin},hiragana:{...E(a),title:t.hiragana},katakana:{...E(a),title:t.katakana},romaji:{...E(a),title:t.romaji},loanword:{...E(a),title:t.gairaigo},pos:{...E(o),title:t.partOfSpeech},form:{...E(l),title:t.conjugation},tag:{...E(p),title:t.represent},base:{...E(a),title:t.baseform},sense:{...E(c),title:t.usage},jlpt:{...E(d),title:t.jlpt}};return{title:t.component,type:"object",properties:N,widget:{type:"menu",className:v.menu,single:!0,groups:[{label:"",count:1},{label:t.layoutComponent,count:5},{label:t.chineseComponent,count:1},{label:t.japaneseComponent,count:10}]}}};return{type:"array",items:(()=>{let N={name:e.name,component:x()};return{type:"object",properties:N,required:["name"],widget:f.flat}})(),widget:G}};var nt=(r,t)=>{let e=r.style,n=W(r),i={match:{title:e.matchText,type:"string",widget:{placeholder:e.all}}},a=()=>({title:e.componentStyle,type:"array",items:{type:"string"},widget:{...f.pick4,enum:{codes:$.names(t)}}}),o=()=>{let p={text:{...i.match,title:e.literal},hiragana:{...i.match,title:e.hiragana},katakana:{...i.match,title:e.katakana},romaji:{...i.match,title:e.romaji},loanword:{...i.match,title:e.gairaigo},pos:{...n.pos,title:e.partOfSpeech},form:{...n.form,title:e.conjugation},tag:{...n.tag,title:e.represent},base:{...i.match,title:e.baseform},sense:{...n.sense,title:e.usage},jlpt:{...n.jlpt,title:e.jlpt}};return{title:e.condition,type:"object",properties:p,widget:{type:"grid",className:v.grid,mode:"inline"}}};return{type:"array",items:(()=>{let p={name:n.name,genres:a(),tokens:o()};return{type:"object",properties:p,required:["name"],widget:f.flat}})(),widget:G}};var rt=(r,t,e)=>{let n=r.style,i=W(r),a=()=>({title:n.componentStyle,type:"array",items:{type:"string"},widget:{...f.pick4,enum:{codes:$.names(t)}}}),o=()=>({title:n.conditionStyle,type:"array",items:{type:"string"},widget:{...f.pick4,enum:{codes:$.names(e)}}}),l=()=>({title:n.languageToolkit,type:"string",default:"none",enum:["none","zhtools","jatools"],widget:{className:v.input,enumNames:[n.none,n.chineseAnalysis,n.japaneseAnalysis]}});return{type:"array",items:(()=>{let c={name:i.name,genres:a(),rulers:o(),toolkit:l()};return{type:"object",properties:c,required:["name","toolkit"],widget:f.flat}})(),widget:G}};var{classes:An}=g.createStyleSheet({root:{display:"flex",flexDirection:"column",gap:"8px"}}).attach(),Tn=r=>({items:[{label:r.themeStyle,value:"themes"},{label:r.componentStyle,value:"genres"},{label:r.conditionStyle,value:"rulers"}]}),ge=class extends s.PureComponent{constructor(e){super(e);this.onChangeTab=e=>{this.setState({tab:e}),this.onActive(e)};this.onChangeGenres=(e,n)=>{let i={...this.state.value};i.genres=e,this.setState({value:i}),this.props.onChange(i,["genres",...n])};this.onChangeRulers=(e,n)=>{let i={...this.state.value};i.rulers=e,this.setState({value:i}),this.props.onChange(i,["rulers",...n])};this.onChangeThemes=(e,n)=>{let i={...this.state.value};i.themes=e,this.setState({value:i}),this.props.onChange(i,["themes",...n])};this.onActiveGenres=(e,n)=>{this.onActive("genres",n)};this.onActiveRulers=(e,n)=>{this.onActive("rulers",n)};this.onActiveThemes=(e,n)=>{this.onActive("themes",n)};this.state={tab:e.defaultTab??"themes",value:e.defaultValue}}componentDidMount(){this.onActive(this.state.tab)}onActive(e,n){if(!this.props.onActive)return;let i=this.state.value;n===void 0&&(n=i[e].length>0?["0"]:[]),this.props.onActive(i,[e,...n])}renderEditorGenres(){let e=this.props.i18ns,n=this.state.value,i=tt(e);return s.createElement(P,{defaultSchema:i,defaultValue:n.genres,onChange:this.onChangeGenres,onActive:this.onActiveGenres})}renderEditorRulers(){let e=this.props.i18ns,n=this.state.value,i=nt(e,n.genres);return s.createElement(P,{defaultSchema:i,defaultValue:n.rulers,onChange:this.onChangeRulers,onActive:this.onActiveRulers})}renderEditorThemes(){let e=this.props.i18ns,n=this.state.value,i=rt(e,n.genres,n.rulers);return s.createElement(P,{defaultSchema:i,defaultValue:n.themes,onChange:this.onChangeThemes,onActive:this.onActiveThemes})}renderContent(){let e=this.state.tab;return e==="genres"?this.renderEditorGenres():e==="rulers"?this.renderEditorRulers():e==="themes"?this.renderEditorThemes():null}render(){let e=this.props.i18ns,n=this.state.tab;return s.createElement("div",{className:An.root},s.createElement(F,{schema:Tn(e.style),value:n,onChange:this.onChangeTab}),s.createElement("div",{key:n},this.renderContent()))}};var me=class extends s.PureComponent{constructor(e){super(e);this.onChange=async e=>{await this.props.agent.save(e)};this.state={config:null}}componentDidMount(){this.load()}async load(){let e=await this.props.agent.load();this.setState({config:e})}render(){return this.state.config===null?null:s.createElement(ge,{i18ns:this.props.i18ns,defaultValue:this.state.config,onChange:this.onChange})}};var En=r=>{let t=r.option,e={name:{title:t.name,type:"string",widget:{className:v.input}},type:{title:t.type,type:"string",default:"none",enum:["none","style","script","standard","simple"],widget:{className:v.input,enumNames:[t.none,t.style,t.script,t.menuAutoSelectStandardMode,t.menuAutoSelectSimpleMode]}},code:{title:t.code,type:"string",widget:{...f.codetext,rows:12}},urls:{title:t.website,type:"array",items:{type:"string",enum:Te},widget:f.pick3}};return{type:"object",properties:e,required:Object.keys(e),widget:f.flat}},jn=r=>({type:"array",items:En(r),widget:G}),On=r=>{let t={items:jn(r)};return{type:"object",properties:t,required:Object.keys(t),widget:{type:"flow"}}},he=class extends s.PureComponent{render(){return s.createElement(P,{defaultSchema:On(this.props.i18ns),defaultValue:this.props.defaultValue,onChange:this.props.onChange})}};var fe=class extends s.PureComponent{constructor(e){super(e);this.onChange=async e=>{await this.props.agent.save(e)};this.state={config:null}}componentDidMount(){this.load()}async load(){let e=await this.props.agent.load();this.setState({config:e})}render(){return this.state.config===null?null:s.createElement(he,{i18ns:this.props.i18ns,defaultValue:this.state.config,onChange:this.onChange})}};var Pn=r=>r.replaceAll("\uFF08","(").replaceAll("\uFF09",")").replaceAll(/ *\(/g," (").trim(),Ln=r=>r.toLowerCase().replaceAll("_","-").trim(),Mn=new URL(location.href).searchParams.get("hl"),zn=[Mn??navigator.language,"en"],Dn={type:"language",languageDisplay:"standard"},_n=new Intl.DisplayNames(zn,Dn),it=r=>{r=Ln(r);let t=_n.of(r)??r;return Pn(t)};var In=["af","am","ar","az","be","bg","bn","bs","ca","ceb","co","cs","cy","da","de","el","en","eo","es","et","eu","fa","fi","fr","fy","ga","gd","gl","gu","ha","haw","hi","hmn","hr","ht","hu","hy","id","ig","is","it","iw","ja","jw","ka","kk","km","kn","ko","ku","ky","la","lb","lo","lt","lv","mg","mi","mk","ml","mn","mr","ms","mt","my","ne","nl","no","ny","or","pa","pl","ps","pt","ro","ru","rw","sd","si","sk","sl","sm","sn","so","sq","sr","st","su","sv","sw","ta","te","tg","th","tk","tl","tr","tt","ug","uk","ur","uz","vi","xh","yi","yo","zu"],Gn=["zh-hans","zh-hant"],Vn=[],Fn=In.concat(Gn).concat(Vn),st=Fn;var Rn=["af","am","ar","az","bg","bs","ca","cs","cy","da","de","el","en","es","et","fa","fi","fr","ga","gu","hi","hr","ht","hu","hy","id","is","it","ja","kk","km","kn","ko","lo","lt","lv","mg","mi","ml","mr","ms","mt","ne","nl","pa","pl","ps","ro","ru","sk","sl","sm","sq","sv","sw","ta","te","th","tr","uk","ur","vi"],qn=["tl","iw","no"],Hn=["bn","ku","my","or","pt","zh-hans","zh-hant"],Bn=Rn.concat(qn).concat(Hn),at=Bn;var Xn=["bg","cs","da","de","el","en","es","et","fi","fr","ga","hr","hu","is","it","ja","lt","lv","mt","nl","no","pl","pt","ro","ru","sk","sl","sv"],Un=["zh-hans","zh-hant"],Kn=[],Jn=Xn.concat(Un).concat(Kn),ot=Jn;var Zn=["ar","cs","de","el","en","es","fr","hu","ja","ko","pl","pt","ru","th","tr","vi","zh-hans","zh-hant"],lt=Zn;var pt=r=>{let t=[];r.engine==="google"&&(t=st),r.engine==="microsoft"&&(t=at),r.engine==="deepl"&&(t=ot);let e=[];r.filter==="available"&&(e=Array.from(t)),r.filter==="popular"&&(e=lt.filter(n=>t.includes(n)));for(let n of r.attach)n=n.toLowerCase().replace("_","-").trim(),n=n.split("-")[0],!e.includes(n)&&t.includes(n)&&e.push(n);return e.sort(),e};var $n=r=>(r=r.toLowerCase().replace("_","-").trim(),r===""?"en":r==="zh-tw"||r==="zh-hk"||r==="zh-mo"||r==="zh-hant"?"zh-hant":r.match(/^zh\b/)?"zh-hans":r.split(/\b/)[0]),Wn=r=>{let t=$n(navigator.language),e=pt({engine:"google",filter:"available",attach:[t]}),n=e.map(it);return{defaultCode:t,codes:e,names:n}},Yn=r=>{let t=r.option,e=Wn(r),n={name:{title:t.name,type:"string",widget:{className:v.input}},lang:{title:t.language,type:"string",default:e.defaultCode,enum:e.codes,widget:{className:v.input,enumNames:e.names,enumTitles:e.codes}},code:{title:t.code,type:"string",widget:{...f.codetext,rows:12}},urls:{title:t.website,type:"array",items:{type:"string",enum:Te},widget:f.pick3}};return{type:"object",properties:n,required:Object.keys(n),widget:f.flat}},Qn=r=>({type:"array",items:Yn(r),widget:G}),er=r=>{let t={items:Qn(r)};return{type:"object",properties:t,required:Object.keys(t),widget:{type:"flow"}}},ye=class extends s.PureComponent{render(){return s.createElement(P,{defaultSchema:er(this.props.i18ns),defaultValue:this.props.defaultValue,onChange:this.props.onChange})}};var be=class extends s.PureComponent{constructor(e){super(e);this.onChange=async e=>{await this.props.agent.save(e)};this.state={config:null}}componentDidMount(){this.load()}async load(){let e=await this.props.agent.load();this.setState({config:e})}render(){return this.state.config===null?null:s.createElement(ye,{i18ns:this.props.i18ns,defaultValue:this.state.config,onChange:this.onChange})}};var ct=new Date,tr=ct.getTimezoneOffset()*60*1e3,nr=ct.toTimeString().slice(12,17),Ve=r=>`${new Date(r-tr).toISOString().slice(0,19).replace("T"," ")} ${nr}`;var{classes:q}=g.createStyleSheet({root:{display:"flex",gap:"16px",flexDirection:"column",width:"60%"},form:{display:"flex",gap:"8px",flexDirection:"column"},field:{display:"flex",gap:"4px",flexDirection:"column",borderLeft:"4px solid #ccc",paddingLeft:"8px","& .name":{lineHeight:"28px"}},table:{fontSize:"14px",lineHeight:1,borderCollapse:"collapse","& th, & td":{border:"1px solid #ccc",padding:"8px",textAlign:"left"}},tbody:{"& th:first-child":{width:"140px"}}}).attach(),we=class extends s.PureComponent{constructor(e){super(e);this.onChangeApiUrl=e=>{e=e.trim();let n={...this.state.config,apiUrl:e};this.setState({config:n}),this.save(n)};this.onChangeApiKey=e=>{e=e.trim();let n={...this.state.config,apiKey:e};this.setState({config:n}),this.save(n)};this.onClick=e=>{e==="check"&&this.check()};this.state={checking:!1,config:null,report:null}}componentDidMount(){this.load()}async load(){let e=await this.props.agent.load();this.setState({config:e})}async save(e){await this.props.agent.save(e)}async check(){let e=this.props.i18ns.option,n=this.state.config,i;i={status:e.connecting,config:n,detail:null},this.setState({checking:!0,report:i}),i=await this.props.agent.check(n),this.setState({checking:!1,report:i})}renderFormApiUrl(){let e=this.state.config.apiUrl,a={items:["https://api.dualsub.xyz/"].map(o=>({label:o,value:o}))};return s.createElement("div",{className:q.field},s.createElement("div",{className:"name"},"API Url"),s.createElement(R,{value:e,schema:a,onChange:this.onChangeApiUrl}))}renderFormApiKey(){let e=this.state.config.apiKey,n={type:"string",spellcheck:!1};return s.createElement("div",{className:q.field},s.createElement("div",{className:"name"},"API Key"),s.createElement(I,{value:e,schema:n,onChange:this.onChangeApiKey}))}renderFormCheck(){let e=this.props.i18ns.option,n=this.state.checking;return s.createElement("div",null,s.createElement(C,{label:e.check,value:"check",disabled:n,icon:"person_search",onClick:this.onClick}))}renderForm(){return s.createElement("div",{className:q.form},this.renderFormApiUrl(),this.renderFormApiKey(),this.renderFormCheck())}renderReportApiUrl(){let e=this.props.i18ns.option,n=this.state.report,i=n.config.apiUrl,a=n.status;return s.createElement("table",{className:q.table},s.createElement("tbody",{className:q.tbody},s.createElement("tr",null,s.createElement("th",null,"API Url"),s.createElement("td",null,i)),s.createElement("tr",null,s.createElement("th",null,e.status),s.createElement("td",null,a))))}renderReportApiKey(){let e=this.props.i18ns.option,n=this.state.report,i=n.config.apiKey,a=n.detail;if(i===""||n.status!=="200 OK")return null;let o;return a?a.hasExpired?o=`${e.invalid} (${e.hasExpired})`:o=e.valid:o=`${e.invalid} (${e.notFound})`,s.createElement("table",{className:q.table},s.createElement("tbody",{className:q.tbody},s.createElement("tr",null,s.createElement("th",null,"API Key"),s.createElement("td",null,i)),s.createElement("tr",null,s.createElement("th",null,e.status),s.createElement("td",null,o)),this.renderReportApiKeyDetail(a)))}renderReportApiKeyDetail(e){if(e===null)return null;let n=this.props.i18ns.option;return s.createElement(s.Fragment,null,s.createElement("tr",null,s.createElement("th",null,n.createTime),s.createElement("td",null,Ve(e.timeCreate))),s.createElement("tr",null,s.createElement("th",null,n.expireTime),s.createElement("td",null,Ve(e.timeExpire))))}renderReport(){return this.state.report===null?null:s.createElement("div",{className:q.form},this.renderReportApiUrl(),this.renderReportApiKey())}render(){return this.state.config===null?null:s.createElement("div",{className:q.root},this.renderForm(),this.renderReport())}};var{classes:Oe}=g.createStyleSheet({root:{fontSize:"14px",display:"flex",flexDirection:"column",gap:"16px"},section:{display:"flex",flexDirection:"column",gap:"8px"},header:{borderBottom:"1px solid #ccc",borderTop:"1px solid transparent",lineHeight:"16px",padding:"6px 0",fontWeight:"bold"},content:{lineHeight:"16px"}}).attach(),xe=class extends s.PureComponent{renderLink(t,e){return s.createElement("a",{href:t,rel:"noreferrer",target:"_blank"},e)}renderSectionServer(){let t=this.props.i18ns.option;return s.createElement("div",{className:Oe.section},s.createElement("div",{className:Oe.header},t.server),s.createElement("div",{className:Oe.content},s.createElement(we,{i18ns:this.props.i18ns,agent:this.props.agent.server})))}render(){return s.createElement("div",{className:Oe.root},this.renderSectionServer())}};var{classes:ve}=g.createStyleSheet({root:{fontSize:"14px",display:"flex",flexDirection:"column",gap:"16px"},section:{display:"flex",flexDirection:"column",gap:"8px"},header:{borderBottom:"1px solid #ccc",borderTop:"1px solid transparent",lineHeight:"16px",padding:"6px 0",fontWeight:"bold"},content:{lineHeight:"16px"},links:{"& ul":{margin:"8px",paddingInlineStart:"16px"},"& li":{padding:"4px 0"}}}).attach(),Se=class extends s.PureComponent{renderLink(t,e){return s.createElement("a",{href:t,rel:"noreferrer",target:"_blank"},e)}renderSectionLinks(){let t=this.props.i18ns.option;return s.createElement("div",{className:ve.section},s.createElement("div",{className:ve.header,style:{display:"none"}}),s.createElement("div",{className:ve.content},s.createElement("div",{className:ve.links},s.createElement("ul",null,s.createElement("li",null,this.renderLink(Xe,t.homepage)),s.createElement("li",null,this.renderLink(Ue,t.feedback)),s.createElement("li",null,this.renderLink(Ke,t.changelog))))))}render(){return s.createElement("div",{className:ve.root},this.renderSectionLinks())}};var rr=r=>({items:[{label:r.general,value:"general"},{label:r.language,value:"language"},{label:r.style,value:"style"},{label:r.plugin,value:"plugin"},{label:r.file,value:"file"},{label:r.network,value:"network"},{label:r.about,value:"about"}]}),{classes:dt}=g.createStyleSheet({root:{padding:"8px",position:"relative",display:"flex",flexDirection:"column",gap:"8px"},content:{padding:"0 8px"}}).attach(),Ce=class extends s.PureComponent{constructor(e){super(e);this.onChangeTab=e=>{this.setState({tab:e}),this.props.onTab&&this.props.onTab(e)};this.state={tab:e.defaultTab??"general"}}renderHeader(){return s.createElement(te,{i18ns:this.props.i18ns,agent:this.props.agents.header})}renderTabbar(){let e=this.props.i18ns.option,n=this.state.tab;return s.createElement(F,{schema:rr(e),value:n,onChange:this.onChangeTab})}renderPanel(){let e=this.state.tab;return e==="general"?s.createElement(ce,{i18ns:this.props.i18ns,agent:this.props.agents.general}):e==="language"?s.createElement(ue,{i18ns:this.props.i18ns,agent:this.props.agents.language}):e==="style"?s.createElement(me,{i18ns:this.props.i18ns,agent:this.props.agents.style}):e==="plugin"?s.createElement(fe,{i18ns:this.props.i18ns,agent:this.props.agents.plugin}):e==="file"?s.createElement(be,{i18ns:this.props.i18ns,agent:this.props.agents.file}):e==="network"?s.createElement(xe,{i18ns:this.props.i18ns,agent:this.props.agents.network}):e==="about"?s.createElement(Se,{i18ns:this.props.i18ns}):null}renderContent(){return s.createElement("div",{className:dt.content},this.renderPanel())}render(){return s.createElement("div",{className:dt.root},this.renderHeader(),this.renderTabbar(),this.renderContent())}};var ir=function(r){return r=r.toLowerCase().replace("_","-").trim(),r===""?"en":r==="zh-tw"||r==="zh-hk"||r==="zh-mo"||r==="zh-hant"?"zh-hant":r.match(/^zh\b/)?"zh-hans":r.split("-")[0]},sr=r=>{let t={};for(let e of r)for(let[n,i]of Object.entries(e))t[n]||(t[n]={}),Object.assign(t[n],i);return t},V=class{constructor(t){this.dataset=sr(t)}get(t){return t=ir(t),this.dataset[t]||(t="en"),this.dataset[t]}};var ut={en:{autoScaling:"Auto Scaling",chineseLearning:"Chinese Learning",example:"Example",firstSubtitle:"First Subtitle",fullscreenButton:"Fullscreen Button",hideSegmentline:"Hide Segmentline",japaneseLearning:"Japanese Learning",largeFont:"Large Font",pageFullscreen:"Page Fullscreen",secondSubtitle:"Second Subtitle",showHiragana:"Show Hiragana",showPinyin:"Show Pinyin",showSegmentline:"Show Segmentline",simpleMode:"Simple Mode",smallFont:"Small Font"}};var gt={"zh-hans":{autoScaling:"\u81EA\u52A8\u7F29\u653E",chineseLearning:"\u4E2D\u6587\u5B66\u4E60",example:"\u793A\u4F8B",firstSubtitle:"\u7B2C\u4E00\u5B57\u5E55",fullscreenButton:"\u5168\u5C4F\u6309\u94AE",hideSegmentline:"\u9690\u85CF\u5206\u8BCD\u7EBF",japaneseLearning:"\u65E5\u8BED\u5B66\u4E60",largeFont:"\u5927\u53F7\u5B57\u4F53",pageFullscreen:"\u7F51\u9875\u5168\u5C4F",secondSubtitle:"\u7B2C\u4E8C\u5B57\u5E55",showHiragana:"\u663E\u793A\u5E73\u5047\u540D",showPinyin:"\u663E\u793A\u62FC\u97F3",showSegmentline:"\u663E\u793A\u5206\u8BCD\u7EBF",simpleMode:"\u7B80\u5355\u6A21\u5F0F",smallFont:"\u5C0F\u53F7\u5B57\u4F53"}};var mt={"zh-hant":{autoScaling:"\u81EA\u52D5\u7E2E\u653E",chineseLearning:"\u4E2D\u6587\u5B78\u7FD2",example:"\u793A\u4F8B",firstSubtitle:"\u7B2C\u4E00\u5B57\u5E55",fullscreenButton:"\u5168\u5C4F\u6309\u9215",hideSegmentline:"\u96B1\u85CF\u5206\u8A5E\u7DDA",japaneseLearning:"\u65E5\u8A9E\u5B78\u7FD2",largeFont:"\u5927\u865F\u5B57\u9AD4",pageFullscreen:"\u7DB2\u9801\u5168\u5C4F",secondSubtitle:"\u7B2C\u4E8C\u5B57\u5E55",showHiragana:"\u986F\u793A\u5E73\u5047\u540D",showPinyin:"\u986F\u793A\u62FC\u97F3",showSegmentline:"\u986F\u793A\u5206\u8A5E\u7DDA",simpleMode:"\u7C21\u55AE\u6A21\u5F0F",smallFont:"\u5C0F\u865F\u5B57\u9AD4"}};var ht={en:{LANG_CODE:"en",LANG_NAME:"English",LANG_LOCAL:"English"},"zh-hans":{LANG_CODE:"zh-hans",LANG_NAME:"Chinese (Simplified)",LANG_LOCAL:"\u4E2D\u6587 (\u7B80\u4F53)"},"zh-hant":{LANG_CODE:"zh-hant",LANG_NAME:"Chinese (Traditional)",LANG_LOCAL:"\u4E2D\u6587 (\u7E41\u9AD4)"}};var ft=new V([ut,gt,mt,ht]);var yt={en:{about:"About",all:"All",allAvailableLanguages:"All Available Languages",announcement:"Announcement",arguments:"Arguments",auto:"Auto",background:"Background",baseStyle:"Base Style",bothKanjiAndKana:"Both Kanji and Kana",bottomMargin:"Bottom Margin",changelog:"Changelog",check:"Check",chinese:"Chinese",chineseAnalysis:"Chinese Analysis",classic:"Classic",clear:"Clear",clearCurrentValues:"Clear Current Values",code:"Code",confirmContinueMessage:"Do you want to continue?",connecting:"Connecting...",createTime:"Create Time",default:"Default",disable:"Disable",enable:"Enable",english:"English",enhance:"Enhance",error:"Error",expirationTime:"Expiration Time",expireTime:"Expire Time",export:"Export",feedback:"Feedback",file:"File",furiganaCharacter:"Furigana Character",general:"General",google:"Google",guangzhouhua:"Cantonese (Guangzhou)",hasExpired:"Has Expired",help:"Help",homepage:"Homepage",import:"Import",invalid:"Invalid",japanese:"Japanese",japaneseAnalysis:"Japanese Analysis",jyutping:"Cantonese (LSHK)",korean:"Korean",language:"Language",languageList:"Language List",machineTranslation:"Machine Translation",menuAutoSelectSimpleMode:"Menu Auto Select (Simple Mode)",menuAutoSelectStandardMode:"Menu Auto Select (Standard Mode)",microsoft:"Microsoft",mouseAction:"Mouse Action",name:"Name",network:"Network",no:"No",none:"None",normal:"Normal",notFound:"Not Found",onlyKanji:"Only Kanji",onlyPopularLanguages:"Only Popular Languages",pinyinScheme:"Pinyin Scheme",plugin:"Plugin",putonghua:"Mandarin",reset:"Reset",resetAllSettingsToDefault:"Reset All Settings To Default",resetToDefault:"Reset to Default",script:"Script",selectText:"Select Text",server:"Server",showOnlyLanguages:"Show Only Languages",status:"Status",stroke:"Stroke",style:"Style",subtitleCount:"Subtitle Count",subtitleMenu:"Subtitle Menu",subtitleRendering:"Subtitle Rendering",translated:"Translated",translationEngine:"Translation Engine",translationMode:"Translation Mode",type:"Type",valid:"Valid",website:"Website",yes:"Yes"}};var bt={"zh-hans":{about:"\u5173\u4E8E",all:"\u6240\u6709",allAvailableLanguages:"\u6240\u6709\u53EF\u7528\u8BED\u8A00",announcement:"\u516C\u544A",arguments:"\u53C2\u6570",auto:"\u81EA\u52A8",background:"\u80CC\u666F",baseStyle:"\u57FA\u7840\u6837\u5F0F",bothKanjiAndKana:"\u6C49\u5B57\u548C\u5047\u540D",bottomMargin:"\u5E95\u90E8\u8FB9\u8DDD",changelog:"\u66F4\u65B0\u65E5\u5FD7",check:"\u68C0\u67E5",chinese:"\u4E2D\u6587",chineseAnalysis:"\u4E2D\u6587\u5206\u6790",classic:"\u7ECF\u5178",clear:"\u6E05\u7A7A",clearCurrentValues:"\u6E05\u7A7A\u5F53\u524D\u503C",code:"\u4EE3\u7801",confirmContinueMessage:"\u8981\u7EE7\u7EED\u6B64\u64CD\u4F5C\u5417\uFF1F",connecting:"\u6B63\u5728\u8FDE\u63A5\u2026\u2026",createTime:"\u521B\u5EFA\u65F6\u95F4",default:"\u9ED8\u8BA4",disable:"\u7981\u7528",enable:"\u542F\u7528",english:"\u82F1\u8BED",enhance:"\u589E\u5F3A",error:"\u9519\u8BEF",expirationTime:"\u8FC7\u671F\u65F6\u95F4",expireTime:"\u8FC7\u671F\u65F6\u95F4",export:"\u5BFC\u51FA",feedback:"\u95EE\u9898\u53CD\u9988",file:"\u6587\u4EF6",furiganaCharacter:"\u6CE8\u97F3\u5B57\u7B26",general:"\u901A\u7528",google:"\u8C37\u6B4C",guangzhouhua:"\u7CA4\u8BED (\u5E7F\u5DDE)",hasExpired:"\u5DF2\u8FC7\u671F",help:"\u5E2E\u52A9",homepage:"\u5B98\u65B9\u7F51\u7AD9",import:"\u5BFC\u5165",invalid:"\u65E0\u6548",japanese:"\u65E5\u8BED",japaneseAnalysis:"\u65E5\u8BED\u5206\u6790",jyutping:"\u7CA4\u8BED (\u9999\u6E2F\u8BED\u8A00\u5B66\u5B66\u4F1A)",korean:"\u97E9\u8BED",language:"\u8BED\u8A00",languageList:"\u8BED\u8A00\u5217\u8868",machineTranslation:"\u673A\u5668\u7FFB\u8BD1",menuAutoSelectSimpleMode:"\u83DC\u5355\u81EA\u52A8\u9009\u62E9 (\u7B80\u5355\u6A21\u5F0F)",menuAutoSelectStandardMode:"\u83DC\u5355\u81EA\u52A8\u9009\u62E9 (\u6807\u51C6\u6A21\u5F0F)",microsoft:"\u5FAE\u8F6F",mouseAction:"\u9F20\u6807\u52A8\u4F5C",name:"\u540D\u79F0",network:"\u7F51\u7EDC",no:"\u5426",none:"\u65E0",normal:"\u666E\u901A",notFound:"\u4E0D\u5B58\u5728",onlyKanji:"\u4EC5\u6C49\u5B57",onlyPopularLanguages:"\u4EC5\u4E3B\u6D41\u8BED\u8A00",pinyinScheme:"\u62FC\u97F3\u65B9\u6848",plugin:"\u63D2\u4EF6",putonghua:"\u666E\u901A\u8BDD",reset:"\u91CD\u7F6E",resetAllSettingsToDefault:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E\u4E3A\u9ED8\u8BA4\u503C",resetToDefault:"\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u503C",script:"\u811A\u672C",selectText:"\u9009\u62E9\u6587\u672C",server:"\u670D\u52A1\u5668",showOnlyLanguages:"\u4EC5\u663E\u793A\u8BED\u8A00",status:"\u72B6\u6001",stroke:"\u63CF\u8FB9",style:"\u6837\u5F0F",subtitleCount:"\u5B57\u5E55\u6570\u91CF",subtitleMenu:"\u5B57\u5E55\u83DC\u5355",subtitleRendering:"\u5B57\u5E55\u6E32\u67D3",translated:"\u7FFB\u8BD1",translationEngine:"\u7FFB\u8BD1\u5F15\u64CE",translationMode:"\u7FFB\u8BD1\u6A21\u5F0F",type:"\u7C7B\u578B",valid:"\u6709\u6548",website:"\u7F51\u7AD9",yes:"\u662F"}};var wt={"zh-hant":{about:"\u95DC\u65BC",all:"\u6240\u6709",allAvailableLanguages:"\u6240\u6709\u53EF\u7528\u8A9E\u8A00",announcement:"\u516C\u544A",arguments:"\u53C3\u6578",auto:"\u81EA\u52D5",background:"\u80CC\u666F",baseStyle:"\u57FA\u790E\u6A23\u5F0F",bothKanjiAndKana:"\u6F22\u5B57\u548C\u5047\u540D",bottomMargin:"\u5E95\u90E8\u908A\u8DDD",changelog:"\u66F4\u65B0\u65E5\u8A8C",check:"\u6AA2\u67E5",chinese:"\u4E2D\u6587",chineseAnalysis:"\u4E2D\u6587\u5206\u6790",classic:"\u7D93\u5178",clear:"\u6E05\u7A7A",clearCurrentValues:"\u6E05\u7A7A\u7576\u524D\u503C",code:"\u4EE3\u78BC",confirmContinueMessage:"\u8981\u7E7C\u7E8C\u6B64\u64CD\u4F5C\u55CE\uFF1F",connecting:"\u6B63\u5728\u9023\u63A5\u2026\u2026",createTime:"\u5275\u5EFA\u6642\u9593",default:"\u9ED8\u8A8D",disable:"\u7981\u7528",enable:"\u555F\u7528",english:"\u82F1\u8A9E",enhance:"\u589E\u5F37",error:"\u932F\u8AA4",expirationTime:"\u904E\u671F\u6642\u9593",expireTime:"\u904E\u671F\u6642\u9593",export:"\u5C0E\u51FA",feedback:"\u554F\u984C\u53CD\u994B",file:"\u6587\u4EF6",furiganaCharacter:"\u6CE8\u97F3\u5B57\u7B26",general:"\u901A\u7528",google:"\u8C37\u6B4C",guangzhouhua:"\u7CB5\u8A9E (\u5EE3\u5DDE)",hasExpired:"\u5DF2\u904E\u671F",help:"\u5E6B\u52A9",homepage:"\u5B98\u65B9\u7DB2\u7AD9",import:"\u5C0E\u5165",invalid:"\u7121\u6548",japanese:"\u65E5\u8A9E",japaneseAnalysis:"\u65E5\u8A9E\u5206\u6790",jyutping:"\u7CB5\u8A9E (\u9999\u6E2F\u8A9E\u8A00\u5B78\u5B78\u6703)",korean:"\u97D3\u8A9E",language:"\u8A9E\u8A00",languageList:"\u8A9E\u8A00\u5217\u8868",machineTranslation:"\u6A5F\u5668\u7FFB\u8B6F",menuAutoSelectSimpleMode:"\u83DC\u55AE\u81EA\u52D5\u9078\u64C7 (\u7C21\u55AE\u6A21\u5F0F)",menuAutoSelectStandardMode:"\u83DC\u55AE\u81EA\u52D5\u9078\u64C7 (\u6A19\u6E96\u6A21\u5F0F)",microsoft:"\u5FAE\u8EDF",mouseAction:"\u9F20\u6A19\u52D5\u4F5C",name:"\u540D\u7A31",network:"\u7DB2\u7D61",no:"\u5426",none:"\u7121",normal:"\u666E\u901A",notFound:"\u4E0D\u5B58\u5728",onlyKanji:"\u50C5\u6F22\u5B57",onlyPopularLanguages:"\u50C5\u4E3B\u6D41\u8A9E\u8A00",pinyinScheme:"\u62FC\u97F3\u65B9\u6848",plugin:"\u63D2\u4EF6",putonghua:"\u666E\u901A\u8A71",reset:"\u91CD\u7F6E",resetAllSettingsToDefault:"\u91CD\u7F6E\u6240\u6709\u8A2D\u7F6E\u70BA\u9ED8\u8A8D\u503C",resetToDefault:"\u91CD\u7F6E\u70BA\u9ED8\u8A8D\u503C",script:"\u8173\u672C",selectText:"\u9078\u64C7\u6587\u672C",server:"\u670D\u52D9\u5668",showOnlyLanguages:"\u50C5\u986F\u793A\u8A9E\u8A00",status:"\u72C0\u614B",stroke:"\u63CF\u908A",style:"\u6A23\u5F0F",subtitleCount:"\u5B57\u5E55\u6578\u91CF",subtitleMenu:"\u5B57\u5E55\u83DC\u55AE",subtitleRendering:"\u5B57\u5E55\u6E32\u67D3",translated:"\u7FFB\u8B6F",translationEngine:"\u7FFB\u8B6F\u5F15\u64CE",translationMode:"\u7FFB\u8B6F\u6A21\u5F0F",type:"\u985E\u578B",valid:"\u6709\u6548",website:"\u7DB2\u7AD9",yes:"\u662F"}};var xt={en:{LANG_CODE:"en",LANG_NAME:"English",LANG_LOCAL:"English"},"zh-hans":{LANG_CODE:"zh-hans",LANG_NAME:"Chinese (Simplified)",LANG_LOCAL:"\u4E2D\u6587 (\u7B80\u4F53)"},"zh-hant":{LANG_CODE:"zh-hant",LANG_NAME:"Chinese (Traditional)",LANG_LOCAL:"\u4E2D\u6587 (\u7E41\u9AD4)"}};var vt=new V([yt,bt,wt,xt]);var St={en:{alignment:"Alignment",all:"All",backgroundColor:"Background Color",backgroundEdgeColor:"Background Edge Color",backgroundEdgeEffect:"Background Edge Effect",backgroundOpacity:"Background Opacity",baseform:"Baseform",borderColor:"Border Color",borderSize:"Border Size",center:"Center",chineseAnalysis:"Chinese Analysis",chineseComponent:"Chinese Component",component:"Component",componentStyle:"Component Style",condition:"Condition",conditionStyle:"Condition Style",conjugation:"Conjugation",contentText:"Content Text",display:"Display",evenly:"Evenly",false:"False",fontBold:"Font Bold",fontColor:"Font Color",fontEdgeColor:"Font Edge Color",fontEdgeEffect:"Font Edge Effect",fontEdgeSize:"Font Edge Size",fontItalic:"Font Italic",fontOpacity:"Font Opacity",fontSize:"Font Size",gairaigo:"Gairaigo",grammarBar:"Grammar Bar",hiragana:"Hiragana",japaneseAnalysis:"Japanese Analysis",japaneseComponent:"Japanese Component",jlpt:"JLPT",katakana:"Katakana",languageToolkit:"Language Toolkit",layoutComponent:"Layout Component",left:"Left",literal:"Literal",matchText:"Match Text",name:"Name",none:"None",partOfSpeech:"Part of Speech",pinyin:"Pinyin",preserve:"False(Preserve Height)",readingBar:"Reading Bar",represent:"Represent",right:"Right",romaji:"Romaji",segmentationLine:"Segmentation Line",shadow:"Shadow",stroke:"Stroke",themeStyle:"Theme Style",true:"True",usage:"Usage",wholeText:"Whole Text"}};var Ct={"zh-hans":{alignment:"\u5BF9\u9F50\u65B9\u5F0F",all:"\u5168\u90E8",backgroundColor:"\u80CC\u666F\u989C\u8272",backgroundEdgeColor:"\u80CC\u666F\u8FB9\u7F18\u989C\u8272",backgroundEdgeEffect:"\u80CC\u666F\u8FB9\u7F18\u6548\u679C",backgroundOpacity:"\u80CC\u666F\u900F\u660E\u5EA6",baseform:"\u539F\u578B",borderColor:"\u8FB9\u6846\u989C\u8272",borderSize:"\u8FB9\u6846\u5927\u5C0F",center:"\u5C45\u4E2D",chineseAnalysis:"\u4E2D\u6587\u5206\u6790",chineseComponent:"\u4E2D\u6587\u7EC4\u4EF6",component:"\u7EC4\u4EF6",componentStyle:"\u7EC4\u4EF6\u6837\u5F0F",condition:"\u6761\u4EF6",conditionStyle:"\u6761\u4EF6\u6837\u5F0F",conjugation:"\u6D3B\u7528",contentText:"\u6B63\u6587\u6587\u672C",display:"\u663E\u793A",evenly:"\u5E73\u5747",false:"\u5426",fontBold:"\u4F7F\u7528\u7C97\u4F53",fontColor:"\u5B57\u4F53\u989C\u8272",fontEdgeColor:"\u5B57\u4F53\u8FB9\u7F18\u989C\u8272",fontEdgeEffect:"\u5B57\u4F53\u8FB9\u7F18\u6548\u679C",fontEdgeSize:"\u5B57\u4F53\u8FB9\u7F18\u5927\u5C0F",fontItalic:"\u4F7F\u7528\u659C\u4F53",fontOpacity:"\u5B57\u4F53\u900F\u660E\u5EA6",fontSize:"\u5B57\u4F53\u5927\u5C0F",gairaigo:"\u5916\u6765\u8BCD",grammarBar:"\u6587\u6CD5\u680F",hiragana:"\u5E73\u5047\u540D",japaneseAnalysis:"\u65E5\u8BED\u5206\u6790",japaneseComponent:"\u65E5\u8BED\u7EC4\u4EF6",jlpt:"JLPT",katakana:"\u7247\u5047\u540D",languageToolkit:"\u8BED\u8A00\u5DE5\u5177",layoutComponent:"\u5E03\u5C40\u7EC4\u4EF6",left:"\u5DE6",literal:"\u5B57\u9762",matchText:"\u5339\u914D\u6587\u672C",name:"\u540D\u79F0",none:"\u65E0",partOfSpeech:"\u8BCD\u7C7B",pinyin:"\u62FC\u97F3",preserve:"\u5426(\u4FDD\u7559\u9AD8\u5EA6)",readingBar:"\u6CE8\u97F3\u680F",represent:"\u8868\u8FBE",right:"\u53F3",romaji:"\u7F57\u9A6C\u5B57",segmentationLine:"\u5206\u8BCD\u7EBF",shadow:"\u9634\u5F71",stroke:"\u63CF\u8FB9",themeStyle:"\u4E3B\u9898\u6837\u5F0F",true:"\u662F",usage:"\u7528\u6CD5",wholeText:"\u6574\u4F53\u6587\u672C"}};var kt={"zh-hant":{alignment:"\u5C0D\u9F4A\u65B9\u5F0F",all:"\u5168\u90E8",backgroundColor:"\u80CC\u666F\u984F\u8272",backgroundEdgeColor:"\u80CC\u666F\u908A\u7DE3\u984F\u8272",backgroundEdgeEffect:"\u80CC\u666F\u908A\u7DE3\u6548\u679C",backgroundOpacity:"\u80CC\u666F\u900F\u660E\u5EA6",baseform:"\u539F\u578B",borderColor:"\u908A\u6846\u984F\u8272",borderSize:"\u908A\u6846\u5927\u5C0F",center:"\u5C45\u4E2D",chineseAnalysis:"\u4E2D\u6587\u5206\u6790",chineseComponent:"\u4E2D\u6587\u7D44\u4EF6",component:"\u7D44\u4EF6",componentStyle:"\u7D44\u4EF6\u6A23\u5F0F",condition:"\u689D\u4EF6",conditionStyle:"\u689D\u4EF6\u6A23\u5F0F",conjugation:"\u6D3B\u7528",contentText:"\u6B63\u6587\u6587\u672C",display:"\u986F\u793A",evenly:"\u5E73\u5747",false:"\u5426",fontBold:"\u4F7F\u7528\u7C97\u9AD4",fontColor:"\u5B57\u9AD4\u984F\u8272",fontEdgeColor:"\u5B57\u9AD4\u908A\u7DE3\u984F\u8272",fontEdgeEffect:"\u5B57\u9AD4\u908A\u7DE3\u6548\u679C",fontEdgeSize:"\u5B57\u9AD4\u908A\u7DE3\u5927\u5C0F",fontItalic:"\u4F7F\u7528\u659C\u9AD4",fontOpacity:"\u5B57\u9AD4\u900F\u660E\u5EA6",fontSize:"\u5B57\u9AD4\u5927\u5C0F",gairaigo:"\u5916\u4F86\u8A5E",grammarBar:"\u6587\u6CD5\u6B04",hiragana:"\u5E73\u5047\u540D",japaneseAnalysis:"\u65E5\u8A9E\u5206\u6790",japaneseComponent:"\u65E5\u8A9E\u7D44\u4EF6",jlpt:"JLPT",katakana:"\u7247\u5047\u540D",languageToolkit:"\u8A9E\u8A00\u5DE5\u5177",layoutComponent:"\u4F48\u5C40\u7D44\u4EF6",left:"\u5DE6",literal:"\u5B57\u9762",matchText:"\u5339\u914D\u6587\u672C",name:"\u540D\u7A31",none:"\u7121",partOfSpeech:"\u8A5E\u985E",pinyin:"\u62FC\u97F3",preserve:"\u5426(\u4FDD\u7559\u9AD8\u5EA6)",readingBar:"\u6CE8\u97F3\u6B04",represent:"\u8868\u9054",right:"\u53F3",romaji:"\u7F85\u99AC\u5B57",segmentationLine:"\u5206\u8A5E\u7DDA",shadow:"\u9670\u5F71",stroke:"\u63CF\u908A",themeStyle:"\u4E3B\u984C\u6A23\u5F0F",true:"\u662F",usage:"\u7528\u6CD5",wholeText:"\u6574\u9AD4\u6587\u672C"}};var Nt={en:{LANG_CODE:"en",LANG_NAME:"English",LANG_LOCAL:"English"},"zh-hans":{LANG_CODE:"zh-hans",LANG_NAME:"Chinese (Simplified)",LANG_LOCAL:"\u4E2D\u6587 (\u7B80\u4F53)"},"zh-hant":{LANG_CODE:"zh-hant",LANG_NAME:"Chinese (Traditional)",LANG_LOCAL:"\u4E2D\u6587 (\u7E41\u9AD4)"}};var At=new V([St,Ct,kt,Nt]);var Tt={en:{BeiDongXingShi:"\u88AB\u52D5\u5F62\u5F0F",Dai:"\u4EE3",DongEr:"\u52D5\u4E8C",DongSan:"\u52D5\u4E09",DongYi:"\u52D5\u4E00",FouDing:"\u5426\u5B9A",Fu:"\u526F",FuCiHua:"\u526F\u8A5E\u5316",GanTan:"\u611F\u5606",GuoQu:"\u904E\u53BB",JiBenXing:"\u57FA\u672C\u5F62",JiaDing:"\u5047\u5B9A",JiaDingXing:"\u5047\u5B9A\u5F62",JianTi:"\u7C21\u9AD4",JianYi:"\u5EFA\u8B70",JieTou:"\u63A5\u982D",JieWei:"\u63A5\u5C3E",JieXu:"\u63A5\u7E8C",JingTi:"\u656C\u9AD4",KeNengXingShi:"\u53EF\u80FD\u5F62\u5F0F",KenDing:"\u80AF\u5B9A",LianTi:"\u9023\u9AD4",MaSuXing:"\u307E\u3059\u5F62",Ming:"\u540D",MingCiHua:"\u540D\u8A5E\u5316",MingLing:"\u547D\u4EE4",MingLingXing:"\u547D\u4EE4\u5F62",NaIXing:"\u306A\u3044\u5F62",Shi:"\u4E8B",ShiYiXingShi:"\u4F7F\u5F79\u5F62\u5F0F",Shu:"\u6578",TaDong:"\u4ED6\u52D5",TaXing:"\u305F\u5F62",TeXing:"\u3066\u5F62",Wai:"\u5916",Wu:"\u7121",XianZai:"\u73FE\u5728",XingEr:"\u5F62\u4E8C",XingYi:"\u5F62\u4E00",YiZhi:"\u610F\u5FD7",YiZhiXing:"\u610F\u5FD7\u5F62",Zhu:"\u52A9",ZhuDong:"\u52A9\u52D5",Zhuan:"\u5C08",ZiDong:"\u81EA\u52D5",ZiTaDong:"\u81EA\u4ED6\u52D5"}};var Et={"zh-hans":{BeiDongXingShi:"\u88AB\u52A8\u5F62\u5F0F",Dai:"\u4EE3",DongEr:"\u52A8\u4E8C",DongSan:"\u52A8\u4E09",DongYi:"\u52A8\u4E00",FouDing:"\u5426\u5B9A",Fu:"\u526F",FuCiHua:"\u526F\u8BCD\u5316",GanTan:"\u611F\u53F9",GuoQu:"\u8FC7\u53BB",JiBenXing:"\u57FA\u672C\u5F62",JiaDing:"\u5047\u5B9A",JiaDingXing:"\u5047\u5B9A\u5F62",JianTi:"\u7B80\u4F53",JianYi:"\u5EFA\u8BAE",JieTou:"\u63A5\u5934",JieWei:"\u63A5\u5C3E",JieXu:"\u63A5\u7EED",JingTi:"\u656C\u4F53",KeNengXingShi:"\u53EF\u80FD\u5F62\u5F0F",KenDing:"\u80AF\u5B9A",LianTi:"\u8FDE\u4F53",MaSuXing:"\u307E\u3059\u5F62",Ming:"\u540D",MingCiHua:"\u540D\u8BCD\u5316",MingLing:"\u547D\u4EE4",MingLingXing:"\u547D\u4EE4\u5F62",NaIXing:"\u306A\u3044\u5F62",Shi:"\u4E8B",ShiYiXingShi:"\u4F7F\u5F79\u5F62\u5F0F",Shu:"\u6570",TaDong:"\u4ED6\u52A8",TaXing:"\u305F\u5F62",TeXing:"\u3066\u5F62",Wai:"\u5916",Wu:"\u65E0",XianZai:"\u73B0\u5728",XingEr:"\u5F62\u4E8C",XingYi:"\u5F62\u4E00",YiZhi:"\u610F\u5FD7",YiZhiXing:"\u610F\u5FD7\u5F62",Zhu:"\u52A9",ZhuDong:"\u52A9\u52A8",Zhuan:"\u4E13",ZiDong:"\u81EA\u52A8",ZiTaDong:"\u81EA\u4ED6\u52A8"}};var jt={"zh-hant":{BeiDongXingShi:"\u88AB\u52D5\u5F62\u5F0F",Dai:"\u4EE3",DongEr:"\u52D5\u4E8C",DongSan:"\u52D5\u4E09",DongYi:"\u52D5\u4E00",FouDing:"\u5426\u5B9A",Fu:"\u526F",FuCiHua:"\u526F\u8A5E\u5316",GanTan:"\u611F\u5606",GuoQu:"\u904E\u53BB",JiBenXing:"\u57FA\u672C\u5F62",JiaDing:"\u5047\u5B9A",JiaDingXing:"\u5047\u5B9A\u5F62",JianTi:"\u7C21\u9AD4",JianYi:"\u5EFA\u8B70",JieTou:"\u63A5\u982D",JieWei:"\u63A5\u5C3E",JieXu:"\u63A5\u7E8C",JingTi:"\u656C\u9AD4",KeNengXingShi:"\u53EF\u80FD\u5F62\u5F0F",KenDing:"\u80AF\u5B9A",LianTi:"\u9023\u9AD4",MaSuXing:"\u307E\u3059\u5F62",Ming:"\u540D",MingCiHua:"\u540D\u8A5E\u5316",MingLing:"\u547D\u4EE4",MingLingXing:"\u547D\u4EE4\u5F62",NaIXing:"\u306A\u3044\u5F62",Shi:"\u4E8B",ShiYiXingShi:"\u4F7F\u5F79\u5F62\u5F0F",Shu:"\u6578",TaDong:"\u4ED6\u52D5",TaXing:"\u305F\u5F62",TeXing:"\u3066\u5F62",Wai:"\u5916",Wu:"\u7121",XianZai:"\u73FE\u5728",XingEr:"\u5F62\u4E8C",XingYi:"\u5F62\u4E00",YiZhi:"\u610F\u5FD7",YiZhiXing:"\u610F\u5FD7\u5F62",Zhu:"\u52A9",ZhuDong:"\u52A9\u52D5",Zhuan:"\u5C08",ZiDong:"\u81EA\u52D5",ZiTaDong:"\u81EA\u4ED6\u52D5"}};var Ot={en:{LANG_CODE:"en",LANG_NAME:"English",LANG_LOCAL:"English"},"zh-hans":{LANG_CODE:"zh-hans",LANG_NAME:"Chinese (Simplified)",LANG_LOCAL:"\u4E2D\u6587 (\u7B80\u4F53)"},"zh-hant":{LANG_CODE:"zh-hant",LANG_NAME:"Chinese (Traditional)",LANG_LOCAL:"\u4E2D\u6587 (\u7E41\u9AD4)"}};var Pt=new V([Tt,Et,jt,Ot]);var Lt=r=>new Promise(t=>setTimeout(t,r)),Mt=r=>(r=r.toLowerCase().replace("_","-").trim(),r==="zh-tw"||r==="zh-hk"||r==="zh-mo"||r==="zh-hant"?"zh-hant":r.match(/^zh\b/)?"zh-hans":"en");var Sr=new URL(location.href).searchParams.get("hl"),Cr=Mt(Sr??navigator.language),zt={i18nCode:Cr};var kr=r=>({daemon:ft.get(r),option:vt.get(r),style:At.get(r),term:Pt.get(r)}),Y=kr(zt.i18nCode);var Nr={type:"object",properties:{bottomMargin:100,baseStyle:["stroke","background","classic","none"],mouseAction:["none","text"]},required:!0},Ar={type:"object",properties:{subtitleCount:[2,3,4,5,6,7,8],showOnlyLanguages:""},required:!0},Dt={type:"object",properties:{rendering:Nr,dropdown:Ar},required:!0};var Tr={type:"object",properties:{languageList:["popular","available"],translationEngine:["google","microsoft"],translationMode:["auto","enhance","normal"]},required:!0},Er={type:"object",properties:{pinyinScheme:["putonghua","guangzhouhua","jyutping"]},required:!0},jr={type:"object",properties:{furiganaCharacter:["kanji","kana"]},required:!0},_t={type:"object",properties:{translation:Tr,chinese:Er,japanese:jr},required:!0};var H={type:"array",items:""},D={fontSize:100,fontColor:"#ffffff",fontOpacity:100,fontEdgeEffect:["none","shadow","raised","depressed","outline","stroke"],fontEdgeColor:"#ffffff",fontEdgeSize:0,fontBold:!0,fontItalic:!0,backgroundColor:"#ffffff",backgroundOpacity:100,backgroundEdgeEffect:["none","shadow"],backgroundEdgeColor:"#ffffff",borderSize:0,borderColor:"#ffffff"},K={display1:["true","false"],display2:["true","false","preserve"],flexAlign:["center","left","right","evenly"]},Or={flexAlign:K.flexAlign,...D},Pr={...D},Lr={display:K.display2,...D},Mr={display:K.display2,flexAlign:K.flexAlign,...D},zr={display:K.display2,backgroundColor:D.backgroundColor,backgroundEdgeEffect:D.backgroundEdgeEffect,backgroundEdgeColor:D.backgroundEdgeColor,borderSize:D.borderSize,borderColor:D.borderColor},Q={display:K.display1,match:"",...D},ke={display:K.display1,match:H,...D},j=r=>({type:"object",properties:r,required:!1}),Dr={type:"object",properties:{none:null,dialogue:j(Or),contents:j(Pr),readings:j(Lr),grammars:j(Mr),dividers:j(zr),pinyin:j(Q),hiragana:j(Q),katakana:j(Q),romaji:j(Q),loanword:j(Q),pos:j(ke),form:j(ke),tag:j(ke),base:j(Q),sense:j(ke),jlpt:j(ke)},required:!1},_r={type:"object",properties:{text:"",hiragana:"",katakana:"",romaji:"",loanword:"",pos:H,form:H,tag:H,base:"",sense:H,jlpt:H},required:!1},Ir={type:"object",properties:{name:"",component:Dr},required:!0},Gr={type:"object",properties:{name:"",genres:H,tokens:_r},required:!0},Vr={type:"object",properties:{name:"",genres:H,rulers:H,toolkit:"none"},required:!0},Fr={type:"array",items:Ir},Rr={type:"array",items:Gr},qr={type:"array",items:Vr},It={type:"object",properties:{genres:Fr,rulers:Rr,themes:qr},required:!0};var Hr={type:"object",properties:{name:"",type:["none","style","script","standard","simple"],code:"",urls:{type:"array",items:""}},required:!0},Gt={type:"object",properties:{items:{type:"array",items:Hr}},required:!0};var Br={type:"object",properties:{name:"",lang:"",code:"",urls:{type:"array",items:""}},required:!0},Vt={type:"object",properties:{items:{type:"array",items:Br}},required:!0};var Xr={type:"object",properties:{apiUrl:["https://api.dualsub.xyz/"],apiKey:""},required:!0},Ft={type:"object",properties:{server:Xr},required:!0};var Ur={type:"object",properties:{general:Dt,language:_t,style:It,plugin:Gt,file:Vt,network:Ft},required:!0},Kr=Ye(Ur),Fe=r=>k(Kr,r);var Jr={get:r=>new Promise((t,e)=>{chrome.storage.local.get(r,n=>{let i=chrome.runtime.lastError;i?e(i):t(n)})}),set:r=>new Promise((t,e)=>{chrome.storage.local.set(r,()=>{let n=chrome.runtime.lastError;n?e(n):t()})})},Zr={sendMessage:r=>new Promise((t,e)=>{chrome.runtime.sendMessage(r,n=>{let i=chrome.runtime.lastError;i?e(i):t(n)})})},$r={query:r=>new Promise(t=>{chrome.tabs.query(r,e=>{t(e)})}),sendMessage:(r,t)=>new Promise((e,n)=>{chrome.tabs.sendMessage(r,t,i=>{let a=chrome.runtime.lastError;a?n(a):e(i)})})},Wr={storage:Jr,runtime:Zr,tabs:$r},Ne=Wr;var Yr={loadSetting:async()=>{let{setting:r}=await Ne.storage.get(["setting"]);return Fe(r)},saveSetting:async r=>{let t=Fe(r);await Ne.storage.set({setting:t})}},O=Yr;var Qr=(()=>{let r=null,t=null;return{update:e=>{r=e},saveDelay:()=>{t!==null&&(clearTimeout(t),t=null),t=setTimeout(()=>{r!==null&&(O.saveSetting(r),r=null),t=null},1e3)},saveNow:async()=>{t!==null&&(clearTimeout(t),t=null),r!==null&&(await O.saveSetting(r),r=null)}}})(),T=Qr;function Rt(r){return{genres:[{name:r.largeFont,component:{dialogue:{fontSize:110}}},{name:r.smallFont,component:{dialogue:{fontSize:90}}},{name:r.showPinyin,component:{pinyin:{display:"true"}}},{name:r.showHiragana,component:{hiragana:{display:"true"}}},{name:r.showSegmentline,component:{dividers:{display:"true",backgroundColor:"#ffffff",borderSize:1,borderColor:"#000000"}}},{name:r.hideSegmentline,component:{dividers:{display:"false"}}}],rulers:[{name:r.hideSegmentline,genres:[r.hideSegmentline],tokens:{pos:["\u65E0"]}}],themes:[{name:r.firstSubtitle,genres:[r.largeFont],rulers:[],toolkit:"none"},{name:r.secondSubtitle,genres:[r.smallFont],rulers:[],toolkit:"none"},{name:r.chineseLearning,genres:[r.largeFont,r.showPinyin],rulers:[],toolkit:"zhtools"},{name:r.japaneseLearning,genres:[r.largeFont,r.showHiragana,r.showSegmentline],rulers:[r.hideSegmentline],toolkit:"jatools"}]}}var ei=`
/* www.youtube.com */
.ytd-page-manager .dualsub-renderer .subtitles {
    font-size: 80%;
}
.ytd-page-manager[theater] .dualsub-renderer .subtitles {
    font-size: 90%;
}
.ytd-page-manager[fullscreen] .dualsub-renderer .subtitles {
    font-size: 100%;
}
.ytd-page-manager .dualsub-renderer {
    margin-bottom: -50px;
}
.ytd-page-manager[theater] .dualsub-renderer {
    margin-bottom: -40px;
}
.ytd-page-manager[fullscreen] .dualsub-renderer {
    margin-bottom: 0;
}

/* m.youtube.com */
.ytp-mweb-player .dualsub-renderer {
    font-size: 12px;
    padding: 4px 8px;
    margin-bottom: -80px;
}
.ytp-mweb-player .dualsub-renderer .subtitles {
    padding: 4px 8px;
    gap: 0;
}
.ytp-mweb-player .dualsub-renderer .contents {
    line-height: 0.8;
}
.ytp-mweb-player.ytp-large-width-mode .dualsub-renderer {
    font-size: 18px;
    margin-bottom: -70px;
}

/* watch.frndlytv.com */
.ott-main-body .dualsub-renderer .subtitles {
    font-size: 80%;
}
.ott-main-body .jw-flag-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* www.funimation.com */
.v-application .dualsub-renderer .subtitle {
    font-size: revert !important;
    font-weight: normal;
}

/* www.coursera.org */
.rc-MetatagsWrapper .dualsub-renderer .subtitles {
    font-size: 60%;
}
.rc-MetatagsWrapper #persistent_fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.rc-MetatagsWrapper .dualsub-renderer {
    margin-bottom: -60px;
}
.rc-MetatagsWrapper #persistent_fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* www.udemy.com */
div[class^="has-sidebar"] .dualsub-renderer .subtitles {
    font-size: 80%;
}
div[class^="app--no-sidebar"] button ~ .dualsub-renderer .subtitles {
    font-size: 90%;
}
div[class^="app--no-sidebar"] .dualsub-renderer .subtitles {
    font-size: 100%;
}
div[class^="has-sidebar"] .dualsub-renderer {
    margin-bottom: -50px;
}
div[class^="app--no-sidebar"] button ~ .dualsub-renderer {
    margin-bottom: -40px;
}
div[class^="app--no-sidebar"] .dualsub-renderer {
    margin-bottom: 0;
}

/* www.ted.com */
#ted-player .dualsub-renderer .subtitles {
    font-size: 70%;
}
#ted-player:fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
#ted-player .dualsub-renderer {
    margin-bottom: -40px;
}
#ted-player:fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* www.ardmediathek.de */
.ardplayer .dualsub-renderer .subtitles {
    font-size: 80%;
}
.ardplayer.ardplayer-state-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.ardplayer .dualsub-renderer {
    margin: auto;
    font-size: 36px;
}

/* www.zdf.de */
.b-zdfplayer .dualsub-renderer {
    margin: auto !important;
    padding: 8px 16px !important;
    font-size: calc(100vw / 1920 * 18 + 18px) !important;
}
.b-zdfplayer .dualsub-renderer .subtitles {
    font-size: 80%;
}
.b-zdfplayer.zdfplayer-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.b-zdfplayer .dualsub-renderer {
    margin-bottom: -30px;
}
.b-zdfplayer.zdfplayer-fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* www.itv.com */
.genie-container .dualsub-renderer .subtitles {
    font-size: 60%;
}
.genie-container.is-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.genie-container .dualsub-renderer {
    margin-bottom: -20px;
}
.genie-container.is-fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* www.channel4.com */
#html5-player .dualsub-renderer .subtitles {
    font-size: 70%;
}
#html5-player.full_screen .dualsub-renderer .subtitles {
    font-size: 100%;
}
#html5-player .dualsub-renderer {
    margin-bottom: -60px;
}
#html5-player.full_screen .dualsub-renderer {
    margin-bottom: 0;
}

/* www.channel5.com */
.jwplayer .dualsub-renderer .subtitles {
    font-size: 80%;
}
.jwplayer.jw-flag-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* www.raiplay.it */
rai-player.inline .dualsub-renderer .subtitles {
    font-size: 60%;
}
rai-player.inline .vjs-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
rai-player.inline .dualsub-renderer {
    margin-bottom: -20px;
}
rai-player.inline .vjs-fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* www.arte.tv */
.isDefaultMode .avp-captions-container {
    display: none;
}
.isDefaultMode .dualsub-renderer .subtitles {
    font-size: 70%;
}
.isDefaultMode.isFullScreen .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* vimeo.com */
.player_area .dualsub-renderer .subtitles {
    font-size: 70%;
}
.player_area.is_fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.player_area .dualsub-renderer {
    margin-bottom: -60px
}
.player_area.is_fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* viu.tv */
.VODPlayer .PlayerControls {
    margin-top: 0;
    margin-bottom: 20px;
}
.VODPlayer .slider-control > div {
    margin-top: 12px !important;
    margin-bottom: 12px !important;
}

/* www.iq.com */
.iqp-player .dualsub-renderer .subtitles {
    font-size: 70%;
}
.iqp-player.iqp-full-screen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.iqp-player .dualsub-renderer {
    margin-bottom: -50px
}
.iqp-player.iqp-full-screen .dualsub-renderer {
    margin-bottom: 0;
}

/* wetv.vip */
#player-wrapper .dualsub-renderer .subtitles {
    font-size: 80%;
}
#player-wrapper.wetv-player__page-fullscreen .dualsub-renderer .subtitles {
    font-size: 90%;
}
#player-wrapper.full-size .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* www.bilibili.com */
.bilibili-player .dualsub-renderer .subtitles {
    font-size: 70%;
}
.bilibili-player.mode-widescreen .dualsub-renderer .subtitles {
    font-size: 80%;
}
.bilibili-player.mode-webfullscreen .dualsub-renderer .subtitles {
    font-size: 90%;
}
.bilibili-player.mode-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* www.bilibili.com (bangumi) */
.bpx-player-container .dualsub-renderer .subtitles {
    font-size: 70%;
}
.bpx-player-container[data-screen="wide"] .dualsub-renderer .subtitles {
    font-size: 80%;
}
.bpx-player-container[data-screen="web"] .dualsub-renderer .subtitles {
    font-size: 90%;
}
.bpx-player-container[data-screen="full"] .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* www.magellantv.com */
.playVideo .dualsub-renderer .subtitles {
    font-size: 60%;
}
.playVideo[data-fullscreen="true"] .dualsub-renderer .subtitles {
    font-size: 100%;
}
.playVideo .dualsub-renderer {
    margin-bottom: -40px;
}
.playVideo[data-fullscreen="true"] .dualsub-renderer {
    margin-bottom: 0;
}

/* 7plus.com.au */
.Player__video .dualsub-renderer .subtitles {
    font-size: 60%;
}
.Player__video.vjs-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}

/* www.9now.com.au */
.videoPlayer .dualsub-renderer .subtitles {
    font-size: 60%;
}
.videoPlayer.vjs-fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
.videoPlayer .dualsub-renderer {
    margin-bottom: -50px;
}
.videoPlayer.vjs-fullscreen .dualsub-renderer {
    margin-bottom: 0;
}

/* 10play.com.au */
#avia-player-show .dualsub-renderer .subtitles {
    font-size: 60%;
}
#avia-player-show:fullscreen .dualsub-renderer .subtitles {
    font-size: 100%;
}
#avia-player-show .dualsub-renderer {
    margin-bottom: -40px;
}
#avia-player-show:fullscreen .dualsub-renderer {
    margin-bottom: 0;
}
`.trim(),ti=`
/* www.youtube.com */
.dualsub-simple .ytp-caption-segment {
    width: 100%;
}
.dualsub-simple .caption-visual-line:nth-child(1) > span::first-line {
    font-size: 100%;
}
.dualsub-simple .caption-visual-line:nth-child(2) > span::first-line {
    font-size: 80%;
}

/* m.youtube.com */
.ytp-mweb-player .caption-window.ytp-caption-window-bottom {
    margin-bottom: 20px;
}
`.trim(),ni=`
/* m.youtube.com */
@media (max-width: 930px) and (orientation: landscape) {

    .player-container {
        height: 100vh !important;
    }

    #player {
        padding-bottom: 100vh !important;
    }

    .html5-main-video {
        width: 100vw !important;
        height: 100vh !important;
        left: 0 !important;
        top: 0 !important;
    }

    ytm-mobile-topbar-renderer.sticky-player {
        position: absolute !important;
    }

    .mobile-topbar-header {
        box-shadow: none !important;
    }

    ytm-engagement-panel {
        top: calc(100vh + 48px) !important;
    }

    .player-size {
        padding-bottom: 100vh !important;
    }

}
`.trim(),ri=`
const button = document.createElement('div');
button.textContent = 'FS';
button.style.fontSize = '16px';
button.style.width = '32px';
button.style.height = '32px';
button.style.lineHeight = '32px';
button.style.textAlign = 'center';
button.style.background = '#000';
button.style.color = '#fff';
button.style.position = 'fixed';
button.style.top = '40%';
button.style.right = '5%';
button.style.border = '1px solid #fff';
button.style.borderRadius = '50%';
button.style.cursor = 'pointer';
document.body.append(button);

button.addEventListener('click', (event) => {
    const node = document.querySelector('.dualsub-renderer');
    node?.parentElement?.requestFullscreen();
});
`.trim();function qt(r){return{items:[{name:r.autoScaling,type:"style",code:ei,urls:["https://www.youtube.com/","https://m.youtube.com/","https://watch.frndlytv.com/","https://www.funimation.com/","https://www.coursera.org/","https://www.udemy.com/","https://www.ted.com/","https://www.ardmediathek.de/","https://www.zdf.de/","https://www.itv.com/","https://www.channel4.com/","https://www.channel5.com/","https://www.raiplay.it/","https://www.arte.tv/","https://vimeo.com/","https://viu.tv/","https://www.iq.com/","https://wetv.vip/","https://www.bilibili.com/","https://www.magellantv.com/","https://7plus.com.au/","https://www.9now.com.au/","https://10play.com.au/"]},{name:r.simpleMode,type:"style",code:ti,urls:["https://www.youtube.com/","https://m.youtube.com/"]},{name:r.pageFullscreen,type:"style",code:ni,urls:["https://m.youtube.com/"]},{name:r.fullscreenButton,type:"script",code:ri,urls:["https://www.bbc.co.uk/"]}]}}var ii=`
WEBVTT

00:00.000 --> 20:00.000
How are you?

20:00.000 --> 40:00.000
I am fine, thank you, and you?
`.trim();function Ht(r){return{items:[{name:r.example,lang:"en",code:ii,urls:[]}]}}var Pe={style:Rt,plugin:qt,file:Ht};var Ae=async(r,t)=>{let i=0,a,o;for(;;){try{a=await Ne.runtime.sendMessage({name:r,args:t})}catch(c){o=c.message}if(a!==void 0)break;if(i<1e3){i+=200,await Lt(200);continue}throw o??"invalid response message"}let{ok:l,data:p}=a;if(!l)throw p;return p},si={translate:async r=>await Ae("translate",r),zhtools:async r=>await Ae("zhtools",r),jatools:async r=>await Ae("jatools",r),heat:async r=>await Ae("heat",r),check:async r=>await Ae("check",r)},Bt=si;var ai={header:{reset:async()=>{let r={style:Pe.style(Y.daemon),plugin:Pe.plugin(Y.daemon),file:Pe.file(Y.daemon)};T.update(r),await T.saveNow(),location.reload()}},general:{load:async()=>(await O.loadSetting()).general,save:async r=>{let t=await O.loadSetting();t.general=r,T.update(t),T.saveDelay()}},language:{load:async()=>(await O.loadSetting()).language,save:async r=>{let t=await O.loadSetting();t.language=r,T.update(t),T.saveDelay()}},style:{load:async()=>(await O.loadSetting()).style,save:async r=>{let t=await O.loadSetting();t.style=r,T.update(t),T.saveDelay()}},plugin:{load:async()=>(await O.loadSetting()).plugin,save:async r=>{let t=await O.loadSetting();t.plugin=r,T.update(t),T.saveDelay()}},file:{load:async()=>(await O.loadSetting()).file,save:async r=>{let t=await O.loadSetting();t.file=r,T.update(t),T.saveDelay()}},network:{server:{load:async()=>(await O.loadSetting()).network.server,save:async r=>{let t=await O.loadSetting();t.network.server=r,T.update(t),T.saveDelay()},check:async r=>{let t,e;try{e=await Bt.check(r),t="200 OK"}catch(n){t=String(n)}return{config:r,status:t,detail:e}}}}},Xt=ai;var Ut={get:()=>{let t=new URLSearchParams(location.hash.slice(1)).get("id")??"",e=["general","language","style","plugin","file","network","about"];return e.includes(t)?t:e[0]},set:r=>{let t=new URLSearchParams(location.hash.slice(1));t.set("id",r),location.hash=t.toString()}};window.addEventListener("beforeunload",()=>{T.saveNow()});var Re=class extends s.PureComponent{onTab=t=>{Ut.set(t)};render(){let t=Ut.get();return s.createElement("div",{style:{width:"960px"}},s.createElement(Ce,{i18ns:Y,agents:Xt,defaultTab:t,onTab:this.onTab}))}},oi=document.querySelector("#app"),li=J.createRoot(oi);li.render(s.createElement(Re,null));
