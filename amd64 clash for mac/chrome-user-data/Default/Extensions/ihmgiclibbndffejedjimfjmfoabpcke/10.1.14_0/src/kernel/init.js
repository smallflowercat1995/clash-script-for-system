!function(e){if(Function.prototype.clone=function(){var e=this,t=function(){return e.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(t[n]=this[n]);return t},!ke.IS_SAFARI){var t=chrome.extension.getURL.clone();chrome.extension.getURL=function(e){var n=t(e);return n.indexOf("-extension")>-1&&(n=e),n}}ke.IS_FIREFOX&&"window"!==ke.section&&(window.close=function(){chrome.tabs.getCurrent((function(e){chrome.tabs.remove(e.id,(function(){}))}))}),ke.data.kernel.save.user_init=function(){if(ke.idb.def_obj_struct("translation",{l_from:"",l_to:"",input:"",it_resp:[],time:0,server_id:0,pending_removal:!1,sources:{}}),ke.idb.def_obj_struct("wordlist",{from:"",to:"",name:"",last_update:Date.now(),created:Date.now(),phrases_count:0,server_id:0,pending_removal:!1}),ke.idb.def_obj_struct("phrase",{parent_wordlist_key:0,text:"",translation:"",json:{},added:Date.now(),server_id:"",usageExample:"",pending_removal:!1}),ke.idb.def_obj_struct("langsite",{timestamp:0,country:"",locale:"",site:"",is_pro:!1,count:0,platform:"",uploaded:!1}),"content"!==ke.section)try{ke.idb.open("it",{history:{l_from:!1,l_to:!1,time:!1,input:!1,server_id:!1},wordlists:{from:!1,to:!1,last_update:!1,server_id:!1},phrases:{parent_wordlist_key:!1,server_id:!1},langsites:{site:!1}},35,(function(){}))}catch(e){}pl.extend(ke.ext.const,{}),pl.extend(ke.ext.util,{}),pl.extend(ke.ext.compatibility,{}),pl.extend(ke,{particles:{},ui_views:{},templates:{}});var e={view:{},model:{}};pl.extend(ke.particles,{lang_selectors:$.extend({},e),lang_swap:$.extend({},e),listen:$.extend({},e),translate:$.extend({},e),stt:$.extend({},e),sync:{model:{},ui_model:{}},three_dots:$.extend({},e),pro_block:$.extend({},e),upgradeTt:$.extend({},e),tr_input:$.extend({},e),translate_ctt:$.extend({},e),scrollbars:$.extend({},e),context:$.extend({},e),sett_int_allvar:$.extend({},e),sett_int_instant:$.extend({},e),sett_int_save:$.extend({},e),sett_trans_combo:$.extend({},e),sett_trans_context:$.extend({},e),sett_trans_history:$.extend({},e),sett_tabber:$.extend({},e),hist_list:$.extend({},e),hist_opt_delete:$.extend({},e),hist_search:$.extend({},e)}),pl.extend(ke.ui_views,{i18n:{},multi_variant:{},empty_trans_states:{},visibility:{}}),pl.extend(ke.ui,{tooltip:{simple:{},modal:{},help:{},confirm:{},helpSelected:{}},toggle:{},pro_alert:{},info_alert:{},notifications:{},loading:{},login:{}}),ke.is_touch_device()?$("html").addClass("touch"):$("html").addClass("no-touch")},pl.extend(ke,{EF:function(){}});const n={DB:"It_DbVault",T_HISTORY:"History",CHR_PRO_SKU:"instant_translate_pro",CHR_PRO_OLD_SKU:"it_pro",ANIM_TYPE_SLIDE_UP:"easeInOutQuint",ANIM_TYPE_SLIDE_DOWN:"easeInOutQuint",ANIM_TYPE_FADE_OUT:"easeOutExpo",ANIM_TYPE_FADE_IN:"easeOutExpo",ANIM_TYPE_REL_MOVE:"easeInExpo",ANIM_SPEED_SLIDE_UP:150,ANIM_SPEED_SLIDE_DOWN:150,ANIM_SPEED_FAST_SLIDE_UP:90,ANIM_SPEED_FAST_SLIDE_DOWN:90,ANIM_SPEED_FADE_OUT:115,ANIM_SPEED_FADE_IN:115,ANIM_SPEED_FAST_FADE_OUT:55,ANIM_SPEED_FAST_FADE_IN:55},r={at:!0,be:!0,bg:!0,hr:!0,cy:!0,cz:!0,dk:!0,ee:!0,fi:!0,fr:!0,de:!0,gr:!0,hu:!0,ie:!0,it:!0,lv:!0,lt:!0,lu:!0,mt:!0,nl:!0,pl:!0,pt:!0,ro:!0,sk:!0,si:!0,es:!0,se:!0,gb:!0};pl.extend(ke,{getAppConst:function(e){return n[e.toUpperCase()]}}),pl.extend(ke.data.kernel.const,{PREFIX:"TnITTtw"});var i={Chrome:"UA-66061856-6","Chrome Pro":"UA-66061856-9",Opera:"UA-66061856-7",Edge:"UA-66061856-8",Firefox:"UA-66061856-10",Safari:"UA-66061856-16","Samsung Internet":"UA-66061856-19"};pl.extend(ke,{DEBUG:!1,FREE_LIMIT:500,isSubscriptionBased:!0,share_links:{fb:"http://www.facebook.com/sharer/sharer.php?u=<%=link%>",tw:"https://twitter.com/intent/tweet?url=<%=link%>&text=<%=text%>&via=MateTranslate",vk:"https://vk.com/share.php?url=<%=link%>"},get syncServer(){return"cn"===ke.ext.util.storageUtil.getVal("user_country")?"asia.gikken.co/matesync":"sync.matetranslate.com"},get isChrome(){return ke.IS_CHROME||ke.IS_CHROME_PRO},get isLegacyProUser(){return ke.ext.util.storageUtil.isTrueOption("chr_pro_flag")},get isProUser(){let e=ke.ext.util.storageUtil.getDecodedVal("sub_data");return ke.isLegacyProUser||e.isSubscriptionVerified},get canSync(){return ke.ext.util.storageUtil.isTrueOption("sync")&&ke.isProUser&&ke.ext.util.storageUtil.getVal("account_token")},get storeLink(){return ke.IS_CHROME?"https://chrome.google.com/webstore/detail/instant-translate-select/ihmgiclibbndffejedjimfjmfoabpcke":ke.IS_OPERA?"https://addons.opera.com/de/extensions/details/instant-translate-2":ke.IS_EDGE?"https://www.microsoft.com/store/p/instant-translate-select-and-translate/9pj8vl1pqs7v?rtc=1":ke.IS_FIREFOX?"https://addons.mozilla.org/firefox/addon/instant-translate/":ke.IS_SAFARI?"https://safari-extensions.apple.com/details/?id=com.matetranslate.app-S8B638MM79":ke.IS_SAMSUNG?"http://apps.samsung.com/appquery/appDetail.as?appId=com.gikken.matesamsung":""},inRange:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},get analyticsScriptLink(){return"https://www.google-analytics.com/analytics.js"},get supportsOnlineAnalytics(){return ke.IS_CHROME||ke.IS_OPERA||ke.IS_EDGE},initAnalytics:function(e){if("undefined"==typeof ga)return(e||function(){})();ga("create",ke.getTrackingCode(),"auto"),ga("set","checkProtocolTask",(function(){})),ga("set","appId",chrome.runtime.id),ga("set","appName",chrome.runtime.getManifest().name),ga("set","appVersion",chrome.runtime.getManifest().version),ga("require","displayfeatures"),ga("send","event","pageview",ke.section),"background"===ke.section&&ke.app.handlers.sendTranslationsCount(),ke.import("ext.const.split_tests",e||function(){})},getKeyByVal:function(e,t){for(var n in e)if(e[n]==t)return n;return null},capitalize:function(e){return pl.empty(e)||!e?"":e[0].toUpperCase()+e.substr(1).toLowerCase()},getPrefix:function(){return"content"===ke.section||"pdf_tooltip"===ke.section?ke.getConst("prefix")+"-":""},getAnimType:function(e){return ke.getAppConst("anim_type_"+e)},getAnimSpeed:function(e){return ke.getAppConst("anim_speed_"+e)},getTrackingCode:function(){return i[ke.browserName]},getCurrentLocale:function(e){var t=window.navigator.userLanguage||window.navigator.language;return e?ke.simplifyLC(t):t},getDeviceData:function(e){ke.ext.util.storageUtil.chainRequestBackgroundOption([{fn:"getVal",args:["ext_ver"]},{fn:"getVal",args:["user_id"]}],(function(t){var n=t[0].response,r=t[1].response;e({d_id:r,d_sv:ke.data.kernel.info.ver,d_av:n,d_platform:ke.PLATFORM_CODE,d_uuid:ke.redirectableExtId})}),"background"===ke.section)},simplifyLC:function(e){return e.split("-")[0].split("_")[0]},isEEA:function(e){return e in r},get TRIAL_DAYS(){return 7},hasTrialExpired:function(e){return Date.now()-(e||ke.ext.util.storageUtil.getIntValue("trial_start"))>=864e5*ke.TRIAL_DAYS},getTrialDaysLeft:function(e){return Math.max(0,ke.TRIAL_DAYS-Math.trunc((Date.now()-(e||ke.ext.util.storageUtil.getIntValue("trial_start")))/1e3/60/60/24))}})}();