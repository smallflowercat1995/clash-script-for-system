!function(e){ke.import("s:ui_components.checkbox");var c=function(){};pl.extend(ke.ui,{checkbox:{}}),pl.extend(ke.ui.checkbox,{data:{sprite_left_padding:"-70px",sprite_top_padding:200,height:18,callback:{}},init:function(e,i,a){pl("input[type=checkbox]").each((function(){var e=pl("<span>",{className:"ui_checkbox"}),c=pl(this);1==c.get().checked&&e.css("background-position",ke.ui.checkbox.data.sprite_left_padding+" "+(ke.ui.checkbox.data.sprite_top_padding-2*ke.ui.checkbox.data.height)+"px").addClass("checked"),c.attr("disabled")&&e.addClass("disabled"),c.bind("change",ke.ui.checkbox.superVision).before(e.get()).hide()})),pl("span.ui_checkbox").bind({click:ke.ui.checkbox.check,mousedown:ke.ui.checkbox.mouseEvt.mousedown}).each((function(){var e=pl(this);e.parent().tag("label")&&e.parent().bind("click",ke.ui.checkbox.labelClick)})),pl(document).bind("click",ke.ui.checkbox.mouseEvt.external),ke.ui.checkbox.data.callback.change=e||c,ke.ui.checkbox.data.callback.mousedown=i||c,ke.ui.checkbox.data.callback.external=a||c},mouseEvt:{mousedown:function(){var e=pl(this);e.css("background-position",ke.ui.checkbox.data.sprite_left_padding+" "+(ke.ui.checkbox.data.sprite_top_padding-ke.ui.checkbox.data.height*(e.hasClass("checked")?3:1))+"px").addClass("intermediate"),ke.ui.checkbox.data.callback.mousedown(this)},external:function(){pl("span.ui_checkbox").each((function(){var e=pl(this);e.hasClass("intermediate")&&e.css("background-position",e.hasClass("checked")?ke.ui.checkbox.data.sprite_left_padding+" "+(ke.ui.checkbox.data.sprite_top_padding-2*ke.ui.checkbox.data.height)+"px":ke.ui.checkbox.data.sprite_left_padding+" "+ke.ui.checkbox.data.sprite_top_padding).removeClass("intermediate")})),ke.ui.checkbox.data.callback.external()}},superVision:function(){var e=pl(this.previousSibling);1==this.checked?e.css("background-position",ke.ui.checkbox.data.sprite_left_padding+" "+(ke.ui.checkbox.data.sprite_top_padding-2*ke.ui.checkbox.data.height)+"px").addClass("checked"):e.css("background-position",ke.ui.checkbox.data.sprite_left_padding+" "+ke.ui.checkbox.data.sprite_top_padding).removeClass("checked")},commonClick:function(e,c){var i;c.removeClass("intermediate"),c.hasClass("checked")?(i=!1,e.checked=i,c.css("background-position",ke.ui.checkbox.data.sprite_left_padding+" "+ke.ui.checkbox.data.sprite_top_padding+"px").removeClass("checked")):(i=!0,e.checked=i,c.css("background-position",ke.ui.checkbox.data.sprite_left_padding+" "+(ke.ui.checkbox.data.sprite_top_padding-2*ke.ui.checkbox.data.height)+"px").addClass("checked")),ke.ui.checkbox.data.callback.change(e,i)},labelClick:function(){var e=this.querySelector("input[type=checkbox]");ke.ui.checkbox.commonClick(e,pl(e.previousSibling))},check:function(){ke.ui.checkbox.commonClick(this.nextSibling,pl(this))},externalElementClicked:function(e){e=pl(e).get(0),ke.ui.checkbox.commonClick(e,pl(e.previousSibling))}})}();