!function(){ke.import("templates.simpleTooltip"),"content"!==ke.section&&ke.import("s:ui_components.tooltip.simple");var t="#"+ke.getPrefix()+"tooltip-wrap";pl.extend(ke.ui.tooltip.simple,{temp:{openCounter:0},get Id(){return t},_createElement:function(t,e){return pl(pl("<div>").append(ke.ext.tpl.compile(ke.templates.simpleTooltip,{content:t,prefix:ke.getPrefix(),ttid:e})).get().childNodes[1])},_applyStyles:function(t,e,i){var o=Math.max.apply(null,$.map($("body *"),(function(t,e){if("static"!=$(t).css("position"))return parseInt($(t).css("z-index"))||1})));t.css({"z-index":o+1,maxWidth:e,maxHeight:i})},_computeAndAdjustPosition:function(t,e,i){var o="center"===e;o&&(e=0);var n="center"===i;if(n&&(i=0),t.css({left:e,top:i}),o){var s=0,p=parseInt(t.css("width")),l=parseInt(pl("body").css("width"))/2-p/2;t.css("left",l+s)}if(n){s=0;var c=parseInt(t.css("height")),a=parseInt(pl("body").css("height"))/2-c/2+parseInt(t.find(".conf-tooltip-wrap").css("padding-top"))+parseInt(t.find(".conf-tooltip-wrap").css("padding-bottom"));t.css("top",a+s)}},_bindCloseEvent:function(t){$(window).on("click",ke.ui.tooltip.simple.close),$("body").on("click",ke.ui.tooltip.simple.close)},create:function(t,e,i,o,n,s,p,l){this.close(!0);var c=this._createElement(t,e);return this._applyStyles(c,n,s),l&&this._computeAndAdjustPosition(c,i,o),c},close:function(t){if("boolean"==typeof t&&t||"boolean"!=typeof t&&!$(t.target).hasClass(ke.getPrefix()+"t")){var e=$("."+ke.getPrefix()+"tooltip-main-wrap");e.length>0&&(e.find(".stop-audio").click(),e.each((function(){$(this).hasClass(ke.getPrefix()+"unpinned")||$(this).remove()})))}}})}();