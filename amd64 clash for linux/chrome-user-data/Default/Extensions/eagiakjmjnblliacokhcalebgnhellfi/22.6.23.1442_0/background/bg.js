importScripts("/lib/js/lib.js","/background/bg-setting.js","/lib/js/extfans-ga.js","/background/bg-ga.js","/background/bg-setting.js","/background/tracker.js","/background/statistics.js");var bg={init:function(){chrome.runtime.onInstalled.addListener(async()=>{var t=await infinity.localGet("clean-master")||{};"clean_tabs"in t||(t.clean_tabs={fixed:!1,tabs:!1},await infinity.localSet("clean-master",t))}),chrome.runtime.onStartup.addListener(async()=>{var t,a,e=await infinity.localGet("clean_auto");"boolean"==typeof e&&e&&(e=await infinity.localGet("clean-master"),t=(new Date).getTime()-function(t){var a;"Last Hour"==t?a=36e5:"Last Day"==t?a=864e5:"Last Week"==t?a=6048e5:"Last Month"==t?a=2592e6:"Everything"==t&&(a=(new Date).getTime());return a}(e.clean_time),a=function(t){for(var a={},e=0;e<t.length;e++)a[t[e].name]=t[e].isClean;return a}(e.clean_item),setTimeout(()=>{chrome.browsingData.remove({since:t},a,function(){})},2e3))}),bgGa.init(),bgSetting.init(),Statistics.init()}};bg.init();